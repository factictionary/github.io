<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Diff Tool | Compare & Find Text Differences | Factictionary</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online text diff tool to compare and find differences between two texts. Side-by-side comparison with highlighted additions and deletions. Perfect for writers, editors, and developers. 100% privacy-protected, works entirely in your browser.">
    <meta name="keywords" content="text diff, text comparison, text difference, compare text, text compare, diff tool, text differences, text compare online, text analysis, writing tool">
    <meta name="author" content="Factictionary Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Text Diff Tool | Compare & Find Text Differences | Factictionary">
    <meta property="og:description" content="Professional text diff tool with side-by-side comparison and highlighted differences. Free and privacy-protected.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://factictionary.github.io/tools/text_diff.html">
    <meta property="og:image" content="https://factictionary.github.io/assets/images/modern_educational_platform_hero_illustration.jpg">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Text Diff Tool | Factictionary">
    <meta name="twitter:description" content="Compare texts and find differences with side-by-side highlighting. Free and privacy-protected.">
    <meta name="twitter:image" content="https://factictionary.github.io/assets/images/modern_educational_platform_hero_illustration.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://factictionary.github.io/tools/text_diff.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Factictionary Text Diff Tool",
        "description": "Free online text diff tool to compare and find differences between two texts with side-by-side comparison and highlighted additions/deletions.",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "provider": {
            "@type": "Organization",
            "name": "Factictionary"
        }
    }
    </script>
	<style>
		.tool-header {
            background: linear-gradient(135deg, #A0010B 0%, #A0010BCC 100%);
            color: white;
            padding: var(--spacing-4xl) var(--spacing-lg);
            text-align: center;
            margin-top: -80px;
            padding-top: calc(var(--spacing-4xl) + 80px);
        }
        
        .tool-title {
            font-size: var(--font-size-title);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--spacing-md);
            line-height: var(--line-height-tight);
        }
        
        .tool-subtitle {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-medium);
            opacity: 0.9;
            margin-bottom: var(--spacing-xl);
        }
        
        .tool-main {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-3xl) var(--spacing-lg);
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--spacing-3xl);
        }
        
        .tool-workspace {
            background: var(--color-surface);
            border-radius: var(--radius-card);
            padding: var(--spacing-2xl);
            box-shadow: var(--shadow-card);
            min-height: 600px;
        }
        
        .tool-sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }
        
        .tool-info {
            background: var(--color-surface);
            border-radius: var(--radius-card);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-card);
        }
        
        .tool-info h3 {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-md);
        }
        
        .tool-feature {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }
        
        .tool-feature-icon {
            color: #F59E0B;
            font-weight: var(--font-weight-bold);
            margin-top: 2px;
        }
        
        .tool-feature-text {
            color: var(--color-neutral-700);
            font-size: var(--font-size-small);
        }
	</style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <a href="/" class="logo">Factictionary</a>
            
            <ul class="nav-links">
                <li><a href="/blog/" class="nav-link">Blog</a></li>
                <li><a href="/tools/" class="nav-link active">Tools</a></li>
                <li><a href="/about.html" class="nav-link">About</a></li>
                <li><a href="/contact.html" class="nav-link">Contact</a></li>
            </ul>
            
            <div class="nav-cta">
                <a href="/blog/" class="btn btn-primary">Read Articles</a>
            </div>
            
            <button class="menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span>‚ò∞</span>
            </button>
        </div>
    </nav>
	
	<!-- Tool Header -->
    <header class="tool-header">
        <h1 class="tool-title">üìã Text Diff Tool</h1>
        <p class="tool-subtitle">Compare and find differences between two texts with side-by-side comparison and highlighted additions and deletions. Perfect for writers, editors, developers, and anyone who needs to track text changes.</p>
        <div class="tool-features">
            <span class="feature-tag">Side-by-Side View</span>
            <span class="feature-tag">Highlight Changes</span>
            <span class="feature-tag">Line-by-Line Diff</span>
            <span class="feature-tag">Word-Level Comparison</span>
            <span class="feature-tag">Real-time Updates</span>
            <span class="feature-tag">Copy Results</span>
        </div>
        <br />
        <div class="privacy-badge">
            üîí 100% Privacy Protected
        </div>
 
    </header>

    <!-- Main Content -->
    <main id="main">
        <!-- Tool Workspace -->
        <section class="tool-workspace">
            <div class="container">
                <!-- Diff Controls -->
                <div class="diff-controls">
                    <div class="control-group">
                        <label class="control-label">Diff Options</label>
                        <div class="options-row">
                            <label class="checkbox-label">
                                <input type="checkbox" id="ignoreWhitespace" />
                                <span>Ignore whitespace</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="ignoreCase" />
                                <span>Ignore case</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="showLineNumbers" checked />
                                <span>Show line numbers</span>
                            </label>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="swapTexts()">üîÑ Swap Texts</button>
                        <button class="btn btn-secondary" onclick="clearBothTexts()">üóëÔ∏è Clear All</button>
                        <button class="btn btn-primary" onclick="copyDiffResults()">üìã Copy Results</button>
                    </div>
                </div>

                <!-- Text Input Areas -->
                <div class="input-section">
                    <div class="text-inputs-container">
                        <div class="text-input-group">
                            <label class="input-label">Original Text</label>
                            <textarea 
                                id="originalText" 
                                class="text-input-area" 
                                placeholder="Enter the original text here..."
                                aria-describedby="originalHelp"
                            ></textarea>
                            <div id="originalHelp" class="input-help">
                                Enter or paste the original text here
                            </div>
                        </div>
                        
                        <div class="text-input-group">
                            <label class="input-label">Modified Text</label>
                            <textarea 
                                id="modifiedText" 
                                class="text-input-area" 
                                placeholder="Enter the modified text here..."
                                aria-describedby="modifiedHelp"
                            ></textarea>
                            <div id="modifiedHelp" class="input-help">
                                Enter or paste the modified text here
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sample Texts -->
                <div class="sample-section">
                    <h3 class="section-title">Try Sample Texts</h3>
                    <div class="sample-buttons">
                        <button class="btn btn-secondary" onclick="loadSampleTexts('article')">üì∞ Article Changes</button>
                        <button class="btn btn-secondary" onclick="loadSampleTexts('code')">üíª Code Changes</button>
                        <button class="btn btn-secondary" onclick="loadSampleTexts('document')">üìÑ Document Changes</button>
                    </div>
                </div>

                <!-- Diff Results -->
                <div class="diff-results-section">
                    <h3 class="section-title">Comparison Results</h3>
                    
                    <!-- Summary Stats -->
                    <div class="diff-stats">
                        <div class="stat-card">
                            <div class="stat-value" id="addedLines">0</div>
                            <div class="stat-label">Added Lines</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="removedLines">0</div>
                            <div class="stat-label">Removed Lines</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="modifiedLines">0</div>
                            <div class="stat-label">Modified Lines</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="unchangedLines">0</div>
                            <div class="stat-label">Unchanged Lines</div>
                        </div>
                    </div>

                    <!-- Side-by-Side Diff -->
                    <div class="diff-container" id="diffContainer">
                        <div class="diff-placeholder" id="diffPlaceholder">
                            <div class="diff-message">üìä Enter texts above to see the comparison</div>
                        </div>
                    </div>
                </div>

                <!-- Word-Level Diff -->
                <div class="word-diff-section" id="wordDiffSection" style="display: none;">
                    <h3 class="section-title">Detailed Word Changes</h3>
                    <div class="word-diff-container" id="wordDiffContainer">
                        <!-- Word-level diff will be populated here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- AdSense Container -->
        <div class="ad-container bottom-ad">
            <!-- AdSense code will be inserted here -->
        </div>

        <!-- Related Tools -->
        <section class="related-tools">
            <div class="container">
                <h3 class="related-title">More Text Tools</h3>
                <div class="related-grid">
                    <a href="text_analyzer.html" class="related-card">
                        <div class="related-icon">üîç</div>
                        <div class="related-content">
                            <h4>Text Analyzer</h4>
                            <p>Comprehensive text analysis with readability scoring, keyword extraction, and sentiment analysis</p>
                        </div>
                    </a>
                    <a href="text_formatter.html" class="related-card">
                        <div class="related-icon">üìù</div>
                        <div class="related-content">
                            <h4>Text Formatter</h4>
                            <p>Format, clean, and enhance text with case conversion and cleaning tools</p>
                        </div>
                    </a>
                    <a href="word_counter.html" class="related-card">
                        <div class="related-icon">üìä</div>
                        <div class="related-content">
                            <h4>Word Counter</h4>
                            <p>Count words, characters, sentences, paragraphs, and lines in real-time</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="/blog/">All Articles</a></li>
                        <li><a href="/blog/?category=productivity">Productivity</a></li>
                        <li><a href="/blog/?category=technology">Technology</a></li>
                        <li><a href="/blog/?category=business">Business</a></li>
                        <li><a href="/blog/?category=learning">Learning</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="/tools/">All Tools</a></li>
                        <li><a href="/tools/categories/image.html">Image Tools</a></li>
                        <li><a href="/tools/categories/pdf.html">PDF Tools</a></li>
                        <li><a href="/tools/categories/video.html">Video/Audio Tools</a></li>
                        <li><a href="/tools/categories/text.html">Text Tools</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about.html">About</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                        <li><a href="/terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="mailto:contact@factictionary.in">Email Us</a></li>
                        <li><a href="/contact.html">Support</a></li>
                        <li><a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">Back to Top</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Factictionary. All rights reserved. Privacy-first educational platform for the modern web.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Text diff functionality
        document.addEventListener('DOMContentLoaded', function() {
            const originalText = document.getElementById('originalText');
            const modifiedText = document.getElementById('modifiedText');
            
            // Add event listeners for real-time updates
            originalText.addEventListener('input', updateDiff);
            modifiedText.addEventListener('input', updateDiff);
            
            // Add event listeners for diff options
            document.getElementById('ignoreWhitespace').addEventListener('change', updateDiff);
            document.getElementById('ignoreCase').addEventListener('change', updateDiff);
            document.getElementById('showLineNumbers').addEventListener('change', updateDiff);
        });

        function loadSampleTexts(type) {
            let original, modified;
            
            switch(type) {
                case 'article':
                    original = `The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet and has been used for typing practice for many years.

Writing tools are essential for content creators and students. They help improve productivity and ensure quality. The modern web offers many free tools that can assist with various tasks.

Whether you're writing an essay, blog post, or any other form of content, having the right tools can make a significant difference in your output and the overall quality of your work.`;
                    
                    modified = `The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet and has been used for typing practice for decades.

Writing tools are essential for content creators, students, and professionals. They help improve productivity and ensure quality. The modern web offers many free and premium tools that can assist with various tasks.

Whether you're writing an essay, blog post, article, or any other form of content, having the right tools can make a significant difference in your output quality and the overall effectiveness of your work.`;
                    break;
                    
                case 'code':
                    original = `function calculateTotal(items) {
    let total = 0;
    for (let i = 0; i < items.length; i++) {
        total += items[i].price;
    }
    return total;
}

const cart = [
    { name: "Book", price: 12.99 },
    { name: "Pen", price: 2.50 }
];

console.log(calculateTotal(cart));`;
                    
                    modified = `function calculateTotal(items) {
    let total = 0;
    for (let i = 0; i < items.length; i++) {
        if (items[i].price > 0) {
            total += items[i].price;
        }
    }
    return total;
}

const cart = [
    { name: "Book", price: 12.99 },
    { name: "Pen", price: 2.50 },
    { name: "Notebook", price: 8.75 }
];

console.log(calculateTotal(cart));`;
                    break;
                    
                case 'document':
                    original = `Meeting Summary - Project Alpha

Date: March 15, 2025
Attendees: John Smith, Jane Doe, Bob Johnson

Agenda:
1. Review project timeline
2. Discuss budget allocation
3. Assign task responsibilities

Decisions Made:
- Project deadline extended by 2 weeks
- Additional developer assigned
- Budget increased by $5,000

Next Steps:
- Complete Phase 1 by March 30
- Schedule follow-up meeting for April 1`;
                    
                    modified = `Meeting Summary - Project Alpha

Date: March 15, 2025
Attendees: John Smith, Jane Doe, Bob Johnson, Alice Brown

Agenda:
1. Review project timeline
2. Discuss budget allocation
3. Assign task responsibilities

Decisions Made:
- Project deadline extended by 3 weeks
- Two additional developers assigned
- Budget increased by $8,000

Next Steps:
- Complete Phase 1 by April 6
- Schedule follow-up meeting for April 8`;
                    break;
            }
            
            document.getElementById('originalText').value = original;
            document.getElementById('modifiedText').value = modified;
            updateDiff();
        }

        function swapTexts() {
            const original = document.getElementById('originalText').value;
            const modified = document.getElementById('modifiedText').value;
            
            document.getElementById('originalText').value = modified;
            document.getElementById('modifiedText').value = original;
            updateDiff();
        }

        function clearBothTexts() {
            document.getElementById('originalText').value = '';
            document.getElementById('modifiedText').value = '';
            updateDiff();
        }

        function copyDiffResults() {
            const container = document.getElementById('diffContainer');
            const text = container.innerText;
            
            if (text.trim()) {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(() => {
                        showNotification('üìã Diff results copied to clipboard!');
                    }).catch(() => {
                        fallbackCopy(text);
                    });
                } else {
                    fallbackCopy(text);
                }
            } else {
                showNotification('‚ùå No results to copy');
            }
        }

        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showNotification('üìã Diff results copied to clipboard!');
            } catch (err) {
                showNotification('‚ùå Failed to copy results');
            }
            document.body.removeChild(textArea);
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--color-success);
                color: white;
                padding: 12px 20px;
                border-radius: var(--radius-button);
                font-weight: 500;
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        function updateDiff() {
            const original = document.getElementById('originalText').value;
            const modified = document.getElementById('modifiedText').value;
            
            if (!original.trim() && !modified.trim()) {
                document.getElementById('diffPlaceholder').style.display = 'flex';
                document.getElementById('wordDiffSection').style.display = 'none';
                updateStats({ addedLines: 0, removedLines: 0, modifiedLines: 0, unchangedLines: 0 });
                return;
            }
            
            document.getElementById('diffPlaceholder').style.display = 'none';
            
            const diff = performDiff(original, modified);
            renderDiff(diff);
            updateStats(diff.stats);
            
            // Show word-level diff if there's any difference
            if (diff.stats.addedLines + diff.stats.removedLines + diff.stats.modifiedLines > 0) {
                renderWordDiff(diff);
                document.getElementById('wordDiffSection').style.display = 'block';
            } else {
                document.getElementById('wordDiffSection').style.display = 'none';
            }
        }

        function performDiff(originalText, modifiedText) {
            // Get diff options
            const ignoreWhitespace = document.getElementById('ignoreWhitespace').checked;
            const ignoreCase = document.getElementById('ignoreCase').checked;
            const showLineNumbers = document.getElementById('showLineNumbers').checked;
            
            // Normalize texts based on options
            const normalize = (text) => {
                let normalized = text;
                if (ignoreCase) normalized = normalized.toLowerCase();
                if (ignoreWhitespace) normalized = normalized.replace(/\s+/g, ' ').trim();
                return normalized;
            };
            
            const origLines = originalText.split('\n');
            const modLines = modifiedText.split('\n');
            const origNorm = origLines.map(normalize);
            const modNorm = modLines.map(normalize);
            
            // Dynamic programming for line-level diff
            const diff = [];
            const m = origLines.length;
            const n = modLines.length;
            
            // Create DP table
            const dp = Array(m + 1).fill().map(() => Array(n + 1).fill(0));
            
            for (let i = m - 1; i >= 0; i--) {
                for (let j = n - 1; j >= 0; j--) {
                    if (origNorm[i] === modNorm[j]) {
                        dp[i][j] = dp[i + 1][j + 1] + 1;
                    } else {
                        dp[i][j] = Math.max(dp[i + 1][j], dp[i][j + 1]);
                    }
                }
            }
            
            // Reconstruct diff
            let i = 0, j = 0;
            const lines = [];
            
            while (i < m && j < n) {
                if (origNorm[i] === modNorm[j]) {
                    lines.push({
                        type: 'unchanged',
                        original: origLines[i],
                        modified: modLines[j],
                        lineNumber: i + 1
                    });
                    i++;
                    j++;
                } else if (dp[i + 1][j] >= dp[i][j + 1]) {
                    lines.push({
                        type: 'removed',
                        original: origLines[i],
                        modified: '',
                        lineNumber: i + 1
                    });
                    i++;
                } else {
                    lines.push({
                        type: 'added',
                        original: '',
                        modified: modLines[j],
                        lineNumber: j + 1
                    });
                    j++;
                }
            }
            
            while (i < m) {
                lines.push({
                    type: 'removed',
                    original: origLines[i],
                    modified: '',
                    lineNumber: i + 1
                });
                i++;
            }
            
            while (j < n) {
                lines.push({
                    type: 'added',
                    original: '',
                    modified: modLines[j],
                    lineNumber: j + 1
                });
                j++;
            }
            
            // Merge adjacent removed and added lines into modified lines
            const mergedLines = [];
            for (let k = 0; k < lines.length; k++) {
                if (k < lines.length - 1 && 
                    lines[k].type === 'removed' && 
                    lines[k + 1].type === 'added') {
                    mergedLines.push({
                        type: 'modified',
                        original: lines[k].original,
                        modified: lines[k + 1].modified,
                        lineNumber: Math.min(lines[k].lineNumber, lines[k + 1].lineNumber)
                    });
                    k++; // Skip next line as it's been merged
                } else {
                    mergedLines.push(lines[k]);
                }
            }
            
            // Calculate stats
            const stats = {
                addedLines: mergedLines.filter(line => line.type === 'added').length,
                removedLines: mergedLines.filter(line => line.type === 'removed').length,
                modifiedLines: mergedLines.filter(line => line.type === 'modified').length,
                unchangedLines: mergedLines.filter(line => line.type === 'unchanged').length
            };
            
            return {
                lines: mergedLines,
                stats: stats,
                options: { showLineNumbers, ignoreWhitespace, ignoreCase }
            };
        }

        function renderDiff(diff) {
            const container = document.getElementById('diffContainer');
            
            if (diff.lines.length === 0) {
                container.innerHTML = `
                    <div class="diff-placeholder">
                        <div class="diff-message">‚úÖ No differences found</div>
                    </div>
                `;
                return;
            }
            
            let html = '<div class="diff-table">';
            
            diff.lines.forEach((line, index) => {
                const lineClass = `diff-line diff-line-${line.type}`;
                const showLineNumber = diff.options.showLineNumbers && line.original !== '' && line.modified !== '';
                
                html += `<div class="${lineClass}">`;
                
                if (showLineNumber) {
                    html += `<div class="line-number">${line.lineNumber}</div>`;
                }
                
                html += '<div class="diff-content">';
                html += '<div class="original-content">' + escapeHtml(line.original) + '</div>';
                html += '<div class="modified-content">' + escapeHtml(line.modified) + '</div>';
                html += '</div>';
                html += '</div>';
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function renderWordDiff(diff) {
            const container = document.getElementById('wordDiffContainer');
            let html = '<div class="word-diff-list">';
            
            diff.lines.forEach(line => {
                if (line.type === 'modified') {
                    const wordDiff = performWordDiff(line.original, line.modified);
                    html += `
                        <div class="word-diff-item">
                            <div class="word-diff-header">
                                <span class="word-diff-type">Modified</span>
                                <span class="word-diff-line">Line ${line.lineNumber}</span>
                            </div>
                            <div class="word-diff-content">
                                <div class="word-diff-original">${wordDiff.original}</div>
                                <div class="word-diff-modified">${wordDiff.modified}</div>
                            </div>
                        </div>
                    `;
                } else if (line.type === 'added' && line.modified.trim()) {
                    html += `
                        <div class="word-diff-item">
                            <div class="word-diff-header">
                                <span class="word-diff-type word-diff-type-added">Added</span>
                                <span class="word-diff-line">Line ${line.lineNumber}</span>
                            </div>
                            <div class="word-diff-content">
                                <div class="word-diff-modified">${escapeHtml(line.modified)}</div>
                            </div>
                        </div>
                    `;
                } else if (line.type === 'removed' && line.original.trim()) {
                    html += `
                        <div class="word-diff-item">
                            <div class="word-diff-header">
                                <span class="word-diff-type word-diff-type-removed">Removed</span>
                                <span class="word-diff-line">Line ${line.lineNumber}</span>
                            </div>
                            <div class="word-diff-content">
                                <div class="word-diff-original">${escapeHtml(line.original)}</div>
                            </div>
                        </div>
                    `;
                }
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function performWordDiff(original, modified) {
            const origWords = original.split(/\s+/);
            const modWords = modified.split(/\s+/);
            
            // Simple word-level comparison
            const maxLength = Math.max(origWords.length, modWords.length);
            let origHtml = '';
            let modHtml = '';
            
            for (let i = 0; i < maxLength; i++) {
                const origWord = origWords[i] || '';
                const modWord = modWords[i] || '';
                
                if (origWord === modWord) {
                    origHtml += origWord + ' ';
                    modHtml += modWord + ' ';
                } else {
                    if (origWord) origHtml += `<span class="word-removed">${escapeHtml(origWord)}</span> `;
                    if (modWord) modHtml += `<span class="word-added">${escapeHtml(modWord)}</span> `;
                }
            }
            
            return {
                original: origHtml.trim(),
                modified: modHtml.trim()
            };
        }

        function updateStats(stats) {
            document.getElementById('addedLines').textContent = stats.addedLines;
            document.getElementById('removedLines').textContent = stats.removedLines;
            document.getElementById('modifiedLines').textContent = stats.modifiedLines;
            document.getElementById('unchangedLines').textContent = stats.unchangedLines;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Mobile menu functionality
        const menuToggle = document.querySelector('.menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        menuToggle.addEventListener('click', () => {
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', !isExpanded);
            navLinks.classList.toggle('active');
        });

        // Add CSS animations for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>

    <style>
        /* Tool-specific styles */
        .diff-controls {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--spacing-md);
        }

        .control-group {
            flex: 1;
            min-width: 300px;
        }

        .control-label {
            display: block;
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
            margin-bottom: var(--spacing-sm);
            font-size: var(--font-size-body);
        }

        .options-row {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: var(--font-size-body);
            color: var(--color-neutral-700);
            cursor: pointer;
        }

        .checkbox-label input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--color-primary-500);
        }

        .action-buttons {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .input-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .input-label {
            display: block;
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
            margin-bottom: var(--spacing-sm);
            font-size: var(--font-size-body);
        }

        .input-help {
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
            margin-bottom: var(--spacing-sm);
            font-style: italic;
        }

        .text-inputs-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-lg);
        }

        .text-input-area {
            width: 100%;
            min-height: 200px;
            padding: var(--spacing-md);
            border: 2px solid var(--color-neutral-200);
            border-radius: var(--radius-input);
            font-size: var(--font-size-body);
            font-family: var(--font-family-primary);
            resize: vertical;
            transition: border-color var(--duration-fast);
            line-height: 1.6;
        }

        .text-input-area:focus {
            outline: none;
            border-color: var(--color-primary-500);
            box-shadow: 0 0 0 3px var(--color-primary-100);
        }

        .sample-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .section-title {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-lg);
        }

        .sample-buttons {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .diff-results-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .diff-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .stat-card {
            text-align: center;
            padding: var(--spacing-md);
            background: var(--color-neutral-50);
            border-radius: var(--radius-button);
            transition: transform var(--duration-fast);
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-value {
            font-size: var(--font-size-title);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary-500);
            margin-bottom: var(--spacing-xs);
            line-height: 1;
        }

        .stat-label {
            font-size: var(--font-size-small);
            color: var(--color-neutral-700);
            font-weight: var(--font-weight-medium);
        }

        .diff-container {
            min-height: 200px;
        }

        .diff-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 200px;
            background: var(--color-neutral-50);
            border-radius: var(--radius-card);
            border: 2px dashed var(--color-neutral-300);
        }

        .diff-message {
            font-size: var(--font-size-body);
            color: var(--color-neutral-600);
            font-weight: var(--font-weight-medium);
        }

        .diff-table {
            display: flex;
            flex-direction: column;
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-input);
            overflow: hidden;
        }

        .diff-line {
            display: grid;
            grid-template-columns: auto 1fr;
            border-bottom: 1px solid var(--color-neutral-200);
        }

        .diff-line:last-child {
            border-bottom: none;
        }

        .diff-line-added {
            background: #ecfdf5;
        }

        .diff-line-removed {
            background: #fef2f2;
        }

        .diff-line-modified {
            background: #fffbeb;
        }

        .diff-line-unchanged {
            background: var(--color-neutral-50);
        }

        .line-number {
            padding: var(--spacing-sm);
            font-size: var(--font-size-small);
            color: var(--color-neutral-500);
            background: var(--color-neutral-100);
            border-right: 1px solid var(--color-neutral-200);
            min-width: 50px;
            text-align: center;
            font-family: var(--font-family-mono);
        }

        .diff-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            width: 100%;
        }

        .original-content,
        .modified-content {
            padding: var(--spacing-sm);
            font-family: var(--font-family-mono);
            font-size: var(--font-size-body);
            line-height: 1.5;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .original-content {
            border-right: 1px solid var(--color-neutral-200);
            background: rgba(239, 68, 68, 0.05);
        }

        .modified-content {
            background: rgba(34, 197, 94, 0.05);
        }

        .diff-line-removed .original-content {
            background: rgba(239, 68, 68, 0.1);
        }

        .diff-line-added .modified-content {
            background: rgba(34, 197, 94, 0.1);
        }

        .diff-line-unchanged .original-content,
        .diff-line-unchanged .modified-content {
            background: transparent;
        }

        .word-diff-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .word-diff-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .word-diff-item {
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            overflow: hidden;
        }

        .word-diff-header {
            padding: var(--spacing-sm) var(--spacing-md);
            background: var(--color-neutral-50);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .word-diff-type {
            font-size: var(--font-size-small);
            font-weight: var(--font-weight-semibold);
            padding: 2px 8px;
            border-radius: var(--radius-button);
            background: var(--color-primary-100);
            color: var(--color-primary-700);
        }

        .word-diff-type-added {
            background: var(--color-success-light);
            color: var(--color-success-dark);
        }

        .word-diff-type-removed {
            background: var(--color-error-light);
            color: var(--color-error-dark);
        }

        .word-diff-line {
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
            font-family: var(--font-family-mono);
        }

        .word-diff-content {
            padding: var(--spacing-md);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-lg);
        }

        .word-diff-original,
        .word-diff-modified {
            font-family: var(--font-family-mono);
            font-size: var(--font-size-body);
            line-height: 1.6;
        }

        .word-diff-original {
            border-left: 3px solid var(--color-error-500);
        }

        .word-diff-modified {
            border-left: 3px solid var(--color-success-500);
        }

        .word-added {
            background: var(--color-success-100);
            color: var(--color-success-800);
            padding: 1px 3px;
            border-radius: 3px;
        }

        .word-removed {
            background: var(--color-error-100);
            color: var(--color-error-800);
            padding: 1px 3px;
            border-radius: 3px;
            text-decoration: line-through;
        }

        .related-tools {
            padding: var(--spacing-3xl) 0;
            background: var(--color-neutral-50);
        }

        .related-title {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .related-card {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            text-decoration: none;
            transition: all var(--duration-standard) var(--easing-standard);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .related-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card-hover);
            border-color: var(--color-primary-100);
        }

        .related-icon {
            font-size: 2em;
            flex-shrink: 0;
        }

        .related-content h4 {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-xs);
        }

        .related-content p {
            color: var(--color-neutral-700);
            font-size: var(--font-size-body);
            margin: 0;
        }

        @media (max-width: 768px) {
            .text-inputs-container {
                grid-template-columns: 1fr;
            }
            
            .diff-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .control-group {
                min-width: auto;
            }
            
            .action-buttons {
                justify-content: center;
            }
            
            .diff-content {
                grid-template-columns: 1fr;
            }
            
            .word-diff-content {
                grid-template-columns: 1fr;
            }
            
            .diff-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .options-row {
                flex-direction: column;
            }
            
            .diff-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>