<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Looper Tool | Loop Videos with Custom Repetitions | Factictionary</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online video looper tool. Loop videos with custom repetitions (2x, 3x, 5x, 10x, unlimited). Perfect for social media, presentations, and content creation. 100% privacy-protected, processes locally in your browser.">
    <meta name="keywords" content="video looper, loop video, repeat video, video editor, video tool, loop videos online, video repetition, social media video, video processing">
    <meta name="author" content="Factictionary Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Video Looper Tool | Loop Videos with Custom Repetitions | Factictionary">
    <meta property="og:description" content="Professional video looper with custom repetition settings, seamless transitions, and local processing. Free and privacy-protected.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://factictionary.github.io/tools/video_looper.html">
    <meta property="og:image" content="https://factictionary.github.io/assets/images/modern_educational_platform_hero_illustration.jpg">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Video Looper Tool | Factictionary">
    <meta name="twitter:description" content="Loop videos with custom repetitions and seamless transitions. Free and privacy-protected.">
    <meta name="twitter:image" content="https://factictionary.github.io/assets/images/modern_educational_platform_hero_illustration.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://factictionary.github.io/tools/video_looper.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Factictionary Video Looper",
        "description": "Free online video looper tool to repeat videos with custom repetitions and seamless transitions.",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "provider": {
            "@type": "Organization",
            "name": "Factictionary"
        }
    }
    </script>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <a href="/" class="logo">Factictionary</a>
            
            <ul class="nav-links">
                <li><a href="/blog/" class="nav-link">Blog</a></li>
                <li><a href="/tools/" class="nav-link active">Tools</a></li>
                <li><a href="/about.html" class="nav-link">About</a></li>
                <li><a href="/contact.html" class="nav-link">Contact</a></li>
            </ul>
            
            <div class="nav-cta">
                <a href="/blog/" class="btn btn-primary">Read Articles</a>
            </div>
            
            <button class="menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span>‚ò∞</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main">
        <!-- AdSense Container -->
        <div class="ad-container top-ad">
            <!-- AdSense code will be inserted here -->
        </div>

        <!-- Tool Header -->
        <header class="tool-header" style="background: linear-gradient(135deg, #10B981 0%, #059669 100%);">
            <div class="container">
                <div class="tool-header-content">
                    <h3 class="tool-title">Video Looper Tool</h3>
                    <p class="tool-subtitle">Loop your videos with custom repetitions, seamless transitions, and professional quality output. Perfect for social media content, presentations, and creative projects that need engaging video loops.</p>
                    <div class="privacy-badge">üîí 100% Privacy Protected</div>
                    <div class="tool-features">
                        <span class="feature-tag">Custom Repetitions</span>
                        <span class="feature-tag">Seamless Transitions</span>
                        <span class="feature-tag">Multiple Formats</span>
                        <span class="feature-tag">Real-time Preview</span>
                        <span class="feature-tag">Local Processing</span>
                        <span class="feature-tag">No Upload Required</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Tool Workspace -->
        <section class="tool-workspace">
            <div class="container">
                <!-- Video Upload Section -->
                <div class="upload-section">
                    <label class="input-label">Upload Video to Loop</label>
                    <div class="video-upload-area" id="videoUploadArea">
                        <div class="upload-content">
                            <div class="upload-icon">üìπ</div>
                            <div class="upload-text">
                                <h3>Drop your video here</h3>
                                <p>or click to browse files</p>
                                <p class="upload-info">Supports MP4, WebM, MOV, AVI ‚Ä¢ Max size: 500MB</p>
                            </div>
                        </div>
                        <input type="file" id="videoInput" accept="video/*" style="display: none;">
                    </div>
                    <div id="uploadHelp" class="input-help">
                        Select a video file to get started. Your video will be processed locally in your browser.
                    </div>
                </div>

                <!-- Video Preview Section -->
                <div class="preview-section" id="previewSection" style="display: none;">
                    <h3 class="section-title">Video Preview</h3>
                    <div class="video-preview-container">
                        <video id="videoPreview" controls class="video-preview"></video>
                        <div class="video-info">
                            <div class="video-metadata">
                                <div class="metadata-item">
                                    <span class="metadata-label">Duration:</span>
                                    <span class="metadata-value" id="videoDuration">--:--</span>
                                </div>
                                <div class="metadata-item">
                                    <span class="metadata-label">Resolution:</span>
                                    <span class="metadata-value" id="videoResolution">--x--</span>
                                </div>
                                <div class="metadata-item">
                                    <span class="metadata-label">File Size:</span>
                                    <span class="metadata-value" id="videoSize">-- MB</span>
                                </div>
                                <div class="metadata-item">
                                    <span class="metadata-label">Format:</span>
                                    <span class="metadata-value" id="videoFormat">--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loop Settings Section -->
                <div class="settings-section" id="settingsSection" style="display: none;">
                    <h3 class="section-title">Loop Settings</h3>
                    <div class="settings-grid">
                        <div class="setting-card">
                            <h4 class="setting-card-title">üîÅ Repetition Count</h4>
                            <div class="repetition-options">
                                <label class="option-item">
                                    <input type="radio" name="repetition" value="2" checked>
                                    <span class="option-text">2x Loop</span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="repetition" value="3">
                                    <span class="option-text">3x Loop</span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="repetition" value="5">
                                    <span class="option-text">5x Loop</span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="repetition" value="10">
                                    <span class="option-text">10x Loop</span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="repetition" value="0">
                                    <span class="option-text">Unlimited</span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-card">
                            <h4 class="setting-card-title">üé≠ Transition Style</h4>
                            <div class="transition-options">
                                <label class="option-item">
                                    <input type="radio" name="transition" value="hard" checked>
                                    <span class="option-text">Hard Cut</span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="transition" value="fade">
                                    <span class="option-text">Fade In/Out</span>
                                </label>
                                <label class="option-item">
                                    <input type="radio" name="transition" value="crossfade">
                                    <span class="option-text">Cross Fade</span>
                                </label>
                            </div>
                            <div class="transition-controls" id="transitionControls" style="display: none;">
                                <label for="transitionDuration">Transition Duration (seconds):</label>
                                <input type="range" id="transitionDuration" min="0.1" max="2" step="0.1" value="0.5">
                                <span id="transitionValue">0.5s</span>
                            </div>
                        </div>
                    </div>

                    <!-- Duration Calculator -->
                    <div class="duration-calculator">
                        <h4 class="setting-card-title">‚è±Ô∏è Duration Calculator</h4>
                        <div class="duration-display">
                            <div class="duration-item">
                                <span class="duration-label">Original Duration:</span>
                                <span class="duration-value" id="originalDuration">--:--</span>
                            </div>
                            <div class="duration-item">
                                <span class="duration-label">Final Duration:</span>
                                <span class="duration-value" id="finalDuration">--:--</span>
                            </div>
                            <div class="duration-item">
                                <span class="duration-label">Estimated Size:</span>
                                <span class="duration-value" id="estimatedSize">-- MB</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processing Section -->
                <div class="processing-section" id="processingSection" style="display: none;">
                    <h3 class="section-title">Create Loop</h3>
                    <div class="process-content">
                        <button class="btn btn-primary btn-large" id="processBtn">
                            <span class="btn-icon">‚ö°</span>
                            <span class="btn-text">Create Looped Video</span>
                        </button>
                        <div class="processing-info">
                            <p>‚Ä¢ Processing happens locally in your browser</p>
                            <p>‚Ä¢ No video data is uploaded to any server</p>
                            <p>‚Ä¢ Keep this tab open during processing</p>
                        </div>
                    </div>
                    
                    <!-- Progress Indicator -->
                    <div class="progress-container" id="progressContainer" style="display: none;">
                        <div class="progress-header">
                            <span class="progress-text" id="progressText">Initializing...</span>
                            <span class="progress-percentage" id="progressPercentage">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                        <div class="progress-status" id="progressStatus">Preparing to process video...</div>
                    </div>
                </div>

                <!-- Results Section -->
                <div class="results-section" id="resultsSection" style="display: none;">
                    <h3 class="section-title">Looped Video Ready</h3>
                    <div class="result-content">
                        <div class="result-preview">
                            <video id="loopedVideo" controls class="video-preview"></video>
                        </div>
                        <div class="result-actions">
                            <button class="btn btn-success btn-large" id="downloadBtn">
                                <span class="btn-icon">üíæ</span>
                                <span class="btn-text">Download Looped Video</span>
                            </button>
                            <button class="btn btn-secondary" id="newLoopBtn">
                                <span class="btn-icon">üîÑ</span>
                                <span class="btn-text">Create New Loop</span>
                            </button>
                        </div>
                        <div class="result-info">
                            <div class="result-metadata">
                                <div class="metadata-item">
                                    <span class="metadata-label">Output Size:</span>
                                    <span class="metadata-value" id="outputSize">-- MB</span>
                                </div>
                                <div class="metadata-item">
                                    <span class="metadata-label">Format:</span>
                                    <span class="metadata-value">MP4</span>
                                </div>
                                <div class="metadata-item">
                                    <span class="metadata-label">Loops:</span>
                                    <span class="metadata-value" id="loopCount">--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Privacy Notice -->
                <div class="privacy-notice">
                    <div class="privacy-icon">üîí</div>
                    <div class="privacy-content">
                        <h4>Privacy Protected</h4>
                        <p>Your video is processed entirely in your browser using WebAssembly technology. No video data is uploaded, stored, or transmitted to any server. All processing happens locally on your device for maximum privacy and security.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- AdSense Container -->
        <div class="ad-container bottom-ad">
            <!-- AdSense code will be inserted here -->
        </div>

        <!-- Related Tools -->
        <section class="related-tools">
            <div class="container">
                <h3 class="related-title">More Video & Audio Tools</h3>
                <div class="related-grid">
                    <a href="video_converter.html" class="related-card">
                        <div class="related-icon">üîÑ</div>
                        <div class="related-content">
                            <h4>Video Converter</h4>
                            <p>Convert videos between different formats with quality options and batch processing support</p>
                        </div>
                    </a>
                    <a href="video_compressor.html" class="related-card">
                        <div class="related-icon">üóúÔ∏è</div>
                        <div class="related-content">
                            <h4>Video Compressor</h4>
                            <p>Compress videos to reduce file size while maintaining quality for web and mobile</p>
                        </div>
                    </a>
                    <a href="audio_extractor.html" class="related-card">
                        <div class="related-icon">üéµ</div>
                        <div class="related-content">
                            <h4>Audio Extractor</h4>
                            <p>Extract audio from video files in various formats with high quality output</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="/blog/">All Articles</a></li>
                        <li><a href="/blog/?category=productivity">Productivity</a></li>
                        <li><a href="/blog/?category=technology">Technology</a></li>
                        <li><a href="/blog/?category=business">Business</a></li>
                        <li><a href="/blog/?category=learning">Learning</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="/tools/">All Tools</a></li>
                        <li><a href="/tools/categories/image.html">Image Tools</a></li>
                        <li><a href="/tools/categories/pdf.html">PDF Tools</a></li>
                        <li><a href="/tools/categories/video.html">Video/Audio Tools</a></li>
                        <li><a href="/tools/categories/text.html">Text Tools</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about.html">About</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                        <li><a href="/terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="mailto:contact@factictionary.in">Email Us</a></li>
                        <li><a href="/contact.html">Support</a></li>
                        <li><a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">Back to Top</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Factictionary. All rights reserved. Privacy-first educational platform for the modern web.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Global variables
        let currentVideo = null;
        let currentVideoFile = null;
        let ffmpeg = null;
        let isProcessing = false;

        // Initialize the tool
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            setupFFmpeg();
        });

        function setupEventListeners() {
            // File upload
            const videoInput = document.getElementById('videoInput');
            const uploadArea = document.getElementById('videoUploadArea');

            videoInput.addEventListener('change', handleFileSelect);
            uploadArea.addEventListener('click', () => videoInput.click());
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('dragleave', handleDragLeave);
            uploadArea.addEventListener('drop', handleDrop);

            // Settings
            document.querySelectorAll('input[name="repetition"]').forEach(radio => {
                radio.addEventListener('change', updateDurationCalculator);
            });

            document.querySelectorAll('input[name="transition"]').forEach(radio => {
                radio.addEventListener('change', handleTransitionChange);
            });

            const transitionDuration = document.getElementById('transitionDuration');
            if (transitionDuration) {
                transitionDuration.addEventListener('input', updateTransitionValue);
            }

            // Process button
            const processBtn = document.getElementById('processBtn');
            if (processBtn) {
                processBtn.addEventListener('click', startProcessing);
            }

            // Result actions
            const downloadBtn = document.getElementById('downloadBtn');
            if (downloadBtn) {
                downloadBtn.addEventListener('click', downloadLoopedVideo);
            }

            const newLoopBtn = document.getElementById('newLoopBtn');
            if (newLoopBtn) {
                newLoopBtn.addEventListener('click', resetTool);
            }
        }

        function setupFFmpeg() {
            // FFmpeg.wasm integration structure
            // Actual implementation will be added when FFmpeg.wasm is ready
            console.log('FFmpeg setup placeholder - integration will be added later');
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('video/')) {
                processVideoFile(file);
            } else {
                showNotification('‚ùå Please select a valid video file', 'error');
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('drag-over');
        }

        function handleDragLeave(event) {
            event.currentTarget.classList.remove('drag-over');
        }

        function handleDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('drag-over');
            
            const files = event.dataTransfer.files;
            if (files.length > 0 && files[0].type.startsWith('video/')) {
                processVideoFile(files[0]);
            } else {
                showNotification('‚ùå Please drop a valid video file', 'error');
            }
        }

        function processVideoFile(file) {
            currentVideoFile = file;
            
            // Validate file size (500MB max)
            const maxSize = 500 * 1024 * 1024; // 500MB
            if (file.size > maxSize) {
                showNotification('‚ùå File too large. Maximum size is 500MB', 'error');
                return;
            }

            // Create video element
            const video = document.createElement('video');
            video.src = URL.createObjectURL(file);
            
            video.addEventListener('loadedmetadata', function() {
                currentVideo = video;
                displayVideoPreview(video, file);
                updateDurationCalculator();
                showNotification('‚úÖ Video loaded successfully', 'success');
            });

            video.addEventListener('error', function() {
                showNotification('‚ùå Error loading video file', 'error');
            });
        }

        function displayVideoPreview(video, file) {
            const previewSection = document.getElementById('previewSection');
            const settingsSection = document.getElementById('settingsSection');
            const processingSection = document.getElementById('processingSection');
            const preview = document.getElementById('videoPreview');
            
            // Set video source
            preview.src = video.src;
            
            // Update metadata
            updateVideoMetadata(video, file);
            
            // Show sections
            previewSection.style.display = 'block';
            settingsSection.style.display = 'block';
            processingSection.style.display = 'block';
            
            // Hide upload area
            document.querySelector('.upload-section').style.display = 'none';
        }

        function updateVideoMetadata(video, file) {
            const duration = document.getElementById('videoDuration');
            const resolution = document.getElementById('videoResolution');
            const size = document.getElementById('videoSize');
            const format = document.getElementById('videoFormat');
            
            if (duration) {
                duration.textContent = formatTime(video.duration);
            }
            
            if (resolution) {
                resolution.textContent = `${video.videoWidth}x${video.videoHeight}`;
            }
            
            if (size) {
                size.textContent = (file.size / (1024 * 1024)).toFixed(1) + ' MB';
            }
            
            if (format) {
                const extension = file.name.split('.').pop().toUpperCase();
                format.textContent = extension;
            }
        }

        function updateDurationCalculator() {
            if (!currentVideo) return;
            
            const originalDuration = document.getElementById('originalDuration');
            const finalDuration = document.getElementById('finalDuration');
            const estimatedSize = document.getElementById('estimatedSize');
            
            if (!originalDuration || !finalDuration || !estimatedSize) return;
            
            const videoDuration = currentVideo.duration;
            const repetition = getSelectedRepetition();
            
            // Update original duration
            originalDuration.textContent = formatTime(videoDuration);
            
            // Calculate final duration
            let finalVideoDuration;
            if (repetition === 0) { // Unlimited
                finalVideoDuration = 30; // Show 30 seconds for preview
                finalDuration.textContent = '30s (unlimited loop)';
            } else {
                finalVideoDuration = videoDuration * repetition;
                finalDuration.textContent = formatTime(finalVideoDuration);
            }
            
            // Estimate size (rough calculation)
            const originalSize = currentVideoFile.size;
            let estimatedFinalSize;
            if (repetition === 0) {
                estimatedFinalSize = (originalSize * 30 / videoDuration).toFixed(1);
            } else {
                estimatedFinalSize = (originalSize * repetition).toFixed(1);
            }
            
            estimatedSize.textContent = estimatedFinalSize + ' MB';
        }

        function getSelectedRepetition() {
            const selected = document.querySelector('input[name="repetition"]:checked');
            return selected ? parseInt(selected.value) : 2;
        }

        function getSelectedTransition() {
            const selected = document.querySelector('input[name="transition"]:checked');
            return selected ? selected.value : 'hard';
        }

        function handleTransitionChange() {
            const transitionControls = document.getElementById('transitionControls');
            const transition = getSelectedTransition();
            
            if (transitionControls) {
                if (transition === 'fade' || transition === 'crossfade') {
                    transitionControls.style.display = 'block';
                } else {
                    transitionControls.style.display = 'none';
                }
            }
        }

        function updateTransitionValue() {
            const transitionDuration = document.getElementById('transitionDuration');
            const transitionValue = document.getElementById('transitionValue');
            
            if (transitionDuration && transitionValue) {
                const value = parseFloat(transitionDuration.value);
                transitionValue.textContent = value + 's';
            }
        }

        function startProcessing() {
            if (isProcessing) {
                showNotification('‚è≥ Processing already in progress', 'warning');
                return;
            }
            
            if (!currentVideo) {
                showNotification('‚ùå Please select a video first', 'error');
                return;
            }
            
            isProcessing = true;
            
            // Show progress
            const progressContainer = document.getElementById('progressContainer');
            if (progressContainer) {
                progressContainer.style.display = 'block';
            }
            
            // Update progress
            updateProgress(10, 'Initializing FFmpeg...');
            
            // Simulate processing (placeholder for actual FFmpeg integration)
            setTimeout(() => {
                updateProgress(30, 'Loading video data...');
                
                setTimeout(() => {
                    updateProgress(60, 'Creating loops...');
                    
                    setTimeout(() => {
                        updateProgress(90, 'Finalizing output...');
                        
                        setTimeout(() => {
                            updateProgress(100, 'Processing complete!');
                            isProcessing = false;
                            showLoopedVideo();
                        }, 1000);
                    }, 1500);
                }, 2000);
            }, 1500);
        }

        function updateProgress(percentage, status) {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const progressPercentage = document.getElementById('progressPercentage');
            const progressStatus = document.getElementById('progressStatus');
            
            if (progressFill) {
                progressFill.style.width = percentage + '%';
            }
            
            if (progressText) {
                progressText.textContent = 'Processing...';
            }
            
            if (progressPercentage) {
                progressPercentage.textContent = percentage + '%';
            }
            
            if (progressStatus) {
                progressStatus.textContent = status;
            }
        }

        function showLoopedVideo() {
            const resultsSection = document.getElementById('resultsSection');
            const loopCount = getSelectedRepetition();
            const outputSize = document.getElementById('outputSize');
            
            if (resultsSection) {
                resultsSection.style.display = 'block';
            }
            
            // Create a simple loop preview (placeholder)
            const loopedVideo = document.getElementById('loopedVideo');
            if (loopedVideo) {
                loopedVideo.src = currentVideo.src; // In real implementation, this would be the processed video
            }
            
            // Update metadata
            if (outputSize) {
                const repetition = loopCount === 0 ? 1 : loopCount;
                const estimatedSize = (currentVideoFile.size * repetition / (1024 * 1024)).toFixed(1);
                outputSize.textContent = estimatedSize + ' MB';
            }
            
            const loopCountElement = document.getElementById('loopCount');
            if (loopCountElement) {
                loopCountElement.textContent = loopCount === 0 ? 'Unlimited' : loopCount + 'x';
            }
            
            showNotification('‚úÖ Looped video created successfully!', 'success');
        }

        function downloadLoopedVideo() {
            // Placeholder for download functionality
            showNotification('üíæ Download functionality will be available with full FFmpeg integration', 'info');
        }

        function resetTool() {
            // Reset all sections
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('settingsSection').style.display = 'none';
            document.getElementById('processingSection').style.display = 'none';
            document.getElementById('resultsSection').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            document.querySelector('.upload-section').style.display = 'block';
            
            // Reset video
            currentVideo = null;
            currentVideoFile = null;
            
            // Clear video input
            document.getElementById('videoInput').value = '';
            
            // Reset progress
            updateProgress(0, 'Preparing to process video...');
            isProcessing = false;
            
            showNotification('üîÑ Ready to create a new loop', 'info');
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return mins + ':' + secs.toString().padStart(2, '0');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            // Set colors based on type
            const colors = {
                success: '#10B981',
                error: '#EF4444',
                warning: '#F59E0B',
                info: '#3B82F6'
            };
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${colors[type] || colors.info};
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                font-weight: 500;
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
                max-width: 300px;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 4000);
        }

        // Mobile menu functionality
        const menuToggle = document.querySelector('.menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        menuToggle.addEventListener('click', () => {
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', !isExpanded);
            navLinks.classList.toggle('active');
        });
    </script>

    <style>
        /* Video-specific styles */
        .upload-section {
            background: var(--color-surface);
            border: 2px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .video-upload-area {
            border: 2px dashed var(--color-neutral-300);
            border-radius: var(--radius-card);
            padding: var(--spacing-2xl);
            cursor: pointer;
            transition: all var(--duration-standard);
            background: var(--color-neutral-50);
        }

        .video-upload-area:hover,
        .video-upload-area.drag-over {
            border-color: #10B981;
            background: #F0FDF4;
        }

        .upload-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-md);
        }

        .upload-icon {
            font-size: 4rem;
            opacity: 0.6;
        }

        .upload-text h3 {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-800);
            margin: 0 0 var(--spacing-xs) 0;
        }

        .upload-text p {
            color: var(--color-neutral-600);
            margin: var(--spacing-xs) 0;
        }

        .upload-info {
            font-size: var(--font-size-small);
            color: var(--color-neutral-500);
        }

        .preview-section,
        .settings-section,
        .processing-section,
        .results-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
        }

        .section-title {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-lg);
        }

        .video-preview-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: var(--spacing-lg);
            align-items: start;
        }

        .video-preview {
            width: 100%;
            max-width: 100%;
            height: auto;
            border-radius: var(--radius-button);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .video-info {
            background: var(--color-neutral-50);
            border-radius: var(--radius-button);
            padding: var(--spacing-lg);
        }

        .video-metadata {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .metadata-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-xs) 0;
            border-bottom: 1px solid var(--color-neutral-200);
        }

        .metadata-item:last-child {
            border-bottom: none;
        }

        .metadata-label {
            font-size: var(--font-size-body);
            color: var(--color-neutral-700);
        }

        .metadata-value {
            font-size: var(--font-size-body);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .setting-card {
            background: var(--color-neutral-50);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
        }

        .setting-card-title {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-md);
        }

        .repetition-options,
        .transition-options {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm);
            border-radius: var(--radius-button);
            cursor: pointer;
            transition: background-color var(--duration-fast);
        }

        .option-item:hover {
            background: var(--color-neutral-100);
        }

        .option-item input[type="radio"] {
            width: 16px;
            height: 16px;
        }

        .option-text {
            font-size: var(--font-size-body);
            color: var(--color-neutral-700);
        }

        .transition-controls {
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--color-neutral-200);
        }

        .transition-controls label {
            display: block;
            font-size: var(--font-size-body);
            color: var(--color-neutral-700);
            margin-bottom: var(--spacing-sm);
        }

        .transition-controls input[type="range"] {
            width: 100%;
            margin-right: var(--spacing-sm);
        }

        .duration-calculator {
            background: #F0FDF4;
            border: 1px solid #BBF7D0;
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
        }

        .duration-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
        }

        .duration-item {
            text-align: center;
            padding: var(--spacing-md);
            background: white;
            border-radius: var(--radius-button);
        }

        .duration-label {
            display: block;
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
            margin-bottom: var(--spacing-xs);
        }

        .duration-value {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-bold);
            color: #059669;
        }

        .process-content {
            text-align: center;
        }

        .btn-large {
            padding: var(--spacing-md) var(--spacing-xl);
            font-size: var(--font-size-body-large);
        }

        .btn-icon {
            margin-right: var(--spacing-sm);
        }

        .processing-info {
            margin-top: var(--spacing-lg);
            text-align: left;
        }

        .processing-info p {
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
            margin: var(--spacing-xs) 0;
        }

        .progress-container {
            margin-top: var(--spacing-lg);
            padding: var(--spacing-lg);
            background: var(--color-neutral-50);
            border-radius: var(--radius-card);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }

        .progress-text {
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-700);
        }

        .progress-percentage {
            font-weight: var(--font-weight-bold);
            color: #10B981;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--color-neutral-200);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: var(--spacing-sm);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10B981, #059669);
            transition: width 0.3s ease;
        }

        .progress-status {
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
        }

        .result-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: var(--spacing-xl);
            align-items: start;
        }

        .result-preview {
            text-align: center;
        }

        .result-actions {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .result-info {
            margin-top: var(--spacing-lg);
        }

        .privacy-notice {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
            background: #F0FDF4;
            border: 1px solid #BBF7D0;
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .privacy-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .privacy-content h4 {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: #059669;
            margin: 0 0 var(--spacing-xs) 0;
        }

        .privacy-content p {
            color: var(--color-neutral-700);
            font-size: var(--font-size-body);
            margin: 0;
            line-height: 1.5;
        }

        .related-tools {
            padding: var(--spacing-3xl) 0;
            background: var(--color-neutral-50);
        }

        .related-title {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .related-card {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            text-decoration: none;
            transition: all var(--duration-standard) var(--easing-standard);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .related-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card-hover);
            border-color: #BBF7D0;
        }

        .related-icon {
            font-size: 2em;
            flex-shrink: 0;
        }

        .related-content h4 {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-xs);
        }

        .related-content p {
            color: var(--color-neutral-700);
            font-size: var(--font-size-body);
            margin: 0;
        }

        @media (max-width: 768px) {
            .video-preview-container,
            .result-content {
                grid-template-columns: 1fr;
            }
            
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .duration-display {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .upload-content {
                flex-direction: column;
            }
            
            .repetition-options,
            .transition-options {
                gap: var(--spacing-xs);
            }
            
            .option-item {
                padding: var(--spacing-xs);
            }
        }

        /* Notification animations */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    </style>
</body>
</html>