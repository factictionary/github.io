<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video to GIF Converter | Convert Videos to Animated GIFs Online | Factictionary</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online video to GIF converter. Convert MP4, MOV, AVI videos to animated GIFs with customizable settings. No upload required - works entirely in your browser. Adjust frame rate, colors, and size for optimal GIF quality.">
    <meta name="keywords" content="video to GIF, convert video to GIF, GIF maker, animated GIF creator, MP4 to GIF, MOV to GIF, AVI to GIF, online GIF converter">
    <meta name="author" content="Factictionary Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Video to GIF Converter | Convert Videos to Animated GIFs Online | Factictionary">
    <meta property="og:description" content="Professional video to GIF converter with customizable frame rate, colors, and size. Convert videos to high-quality animated GIFs directly in your browser.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://factictionary.github.io/tools/video_to_gif.html">
    <meta property="og:image" content="https://factictionary.github.io/assets/images/modern_educational_platform_hero_illustration.jpg">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Video to GIF Converter | Factictionary">
    <meta name="twitter:description" content="Convert videos to animated GIFs with customizable quality settings. Free and privacy-protected.">
    <meta name="twitter:image" content="https://factictionary.github.io/assets/images/modern_educational_platform_hero_illustration.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://factictionary.github.io/tools/video_to_gif.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Factictionary Video to GIF Converter",
        "description": "Free online video to GIF converter tool to convert MP4, MOV, AVI videos to animated GIFs with customizable settings.",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "provider": {
            "@type": "Organization",
            "name": "Factictionary"
        }
    }
    </script>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <a href="/" class="logo">Factictionary</a>
            
            <ul class="nav-links">
                <li><a href="/blog/" class="nav-link">Blog</a></li>
                <li><a href="/tools/" class="nav-link active">Tools</a></li>
                <li><a href="/about.html" class="nav-link">About</a></li>
                <li><a href="/contact.html" class="nav-link">Contact</a></li>
            </ul>
            
            <div class="nav-cta">
                <a href="/blog/" class="btn btn-primary">Read Articles</a>
            </div>
            
            <button class="menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span>‚ò∞</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main">
        <!-- AdSense Container -->
        <div class="ad-container top-ad">
            <!-- AdSense code will be inserted here -->
        </div>

        <!-- Tool Header -->
        <header class="tool-header">
            <div class="container">
                <div class="tool-header-content">
                    <h3 class="tool-title">Video to GIF Converter</h3>
                    <p class="tool-subtitle">Convert MP4, MOV, AVI videos to high-quality animated GIFs with customizable frame rate, colors, and size. No upload required - all processing happens in your browser for complete privacy.</p>
                    <div class="privacy-badge">üîí 100% Privacy Protected</div>
                    <div class="tool-features">
                        <span class="feature-tag">No Upload Required</span>
                        <span class="feature-tag">Custom Frame Rate</span>
                        <span class="feature-tag">Color Optimization</span>
                        <span class="feature-tag">Size Control</span>
                        <span class="feature-tag">Loop Settings</span>
                        <span class="feature-tag">Real-time Preview</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Tool Workspace -->
        <section class="tool-workspace">
            <div class="container">
                <!-- Video Upload Section -->
                <div class="upload-section">
                    <label class="upload-label">Video File</label>
                    <div id="uploadArea" class="upload-area" onclick="document.getElementById('videoInput').click()">
                        <div class="upload-content">
                            <div class="upload-icon">üìπ</div>
                            <h3 class="upload-title">Drop your video here or click to browse</h3>
                            <p class="upload-subtitle">Supports MP4, MOV, AVI, WebM ‚Ä¢ Max size: 100MB</p>
                            <button type="button" class="btn btn-primary">Choose Video File</button>
                        </div>
                        <input type="file" id="videoInput" accept="video/*" style="display: none;">
                    </div>
                    <div id="uploadError" class="upload-error" style="display: none;">
                        <div class="error-icon">‚ö†Ô∏è</div>
                        <div class="error-text"></div>
                    </div>
                </div>

                <!-- Video Preview and Info -->
                <div id="videoInfo" class="video-info" style="display: none;">
                    <h3 class="section-title">Video Information</h3>
                    <div class="video-details">
                        <div class="video-preview">
                            <video id="videoPreview" controls style="max-width: 100%; border-radius: var(--radius-card);"></video>
                        </div>
                        <div class="video-metadata" id="videoMetadata">
                            <!-- Metadata will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Conversion Settings -->
                <div class="settings-section">
                    <h3 class="section-title">GIF Settings</h3>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <label class="setting-label">Frame Rate (FPS)</label>
                            <div class="setting-control">
                                <input type="range" id="frameRate" min="1" max="30" value="10" class="range-input">
                                <div class="range-value">
                                    <span id="frameRateValue">10</span> FPS
                                </div>
                            </div>
                            <div class="setting-help">Lower FPS = smaller file size</div>
                        </div>

                        <div class="setting-group">
                            <label class="setting-label">Start Time</label>
                            <div class="setting-control">
                                <input type="number" id="startTime" min="0" value="0" step="0.1" class="number-input">
                                <span class="unit">seconds</span>
                            </div>
                        </div>

                        <div class="setting-group">
                            <label class="setting-label">End Time</label>
                            <div class="setting-control">
                                <input type="number" id="endTime" min="0" value="0" step="0.1" class="number-input">
                                <span class="unit">seconds</span>
                            </div>
                        </div>

                        <div class="setting-group">
                            <label class="setting-label">Output Width</label>
                            <div class="setting-control">
                                <input type="range" id="outputWidth" min="100" max="800" value="400" class="range-input">
                                <div class="range-value">
                                    <span id="outputWidthValue">400</span>px
                                </div>
                            </div>
                            <div class="setting-help">Height auto-calculated to maintain aspect ratio</div>
                        </div>

                        <div class="setting-group">
                            <label class="setting-label">Color Palette</label>
                            <div class="color-palette">
                                <label class="palette-option">
                                    <input type="radio" name="colorPalette" value="256" checked>
                                    <span class="palette-preview palette-256"></span>
                                    <span class="palette-label">256 Colors<br><small>Best quality</small></span>
                                </label>
                                <label class="palette-option">
                                    <input type="radio" name="colorPalette" value="64">
                                    <span class="palette-preview palette-64"></span>
                                    <span class="palette-label">64 Colors<br><small>Balanced</small></span>
                                </label>
                                <label class="palette-option">
                                    <input type="radio" name="colorPalette" value="16">
                                    <span class="palette-preview palette-16"></span>
                                    <span class="palette-label">16 Colors<br><small>Small size</small></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-group">
                            <label class="setting-label">Loop Count</label>
                            <div class="setting-control">
                                <select id="loopCount" class="select-input">
                                    <option value="0">Infinite loop</option>
                                    <option value="1">Once (no loop)</option>
                                    <option value="2">2 times</option>
                                    <option value="3">3 times</option>
                                    <option value="5">5 times</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Size Estimation -->
                <div id="sizeEstimation" class="size-estimation" style="display: none;">
                    <h3 class="section-title">File Size Estimation</h3>
                    <div class="size-comparison">
                        <div class="size-item original">
                            <div class="size-label">Original Video</div>
                            <div class="size-value" id="originalSize">--</div>
                        </div>
                        <div class="size-arrow">‚Üí</div>
                        <div class="size-item converted">
                            <div class="size-label">Estimated GIF</div>
                            <div class="size-value" id="estimatedSize">--</div>
                        </div>
                    </div>
                </div>

                <!-- Convert Button -->
                <div class="convert-section">
                    <button id="convertBtn" class="btn btn-primary btn-large" onclick="convertToGif()" disabled>
                        üé¨ Convert to GIF
                    </button>
                </div>

                <!-- Processing Progress -->
                <div id="progressSection" class="progress-section" style="display: none;">
                    <h3 class="section-title">Converting to GIF</h3>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div id="progressBar" class="progress-fill" style="width: 0%;"></div>
                        </div>
                        <div class="progress-text" id="progressText">Preparing...</div>
                        <div class="progress-phases">
                            <div class="phase" id="phase1">
                                <div class="phase-icon">üìä</div>
                                <div class="phase-text">Analyzing video</div>
                            </div>
                            <div class="phase-arrow">‚Üí</div>
                            <div class="phase" id="phase2">
                                <div class="phase-icon">üé®</div>
                                <div class="phase-text">Generating color palette</div>
                            </div>
                            <div class="phase-arrow">‚Üí</div>
                            <div class="phase" id="phase3">
                                <div class="phase-icon">üîÑ</div>
                                <div class="phase-text">Creating frames</div>
                            </div>
                            <div class="phase-arrow">‚Üí</div>
                            <div class="phase" id="phase4">
                                <div class="phase-icon">üì¶</div>
                                <div class="phase-text">Optimizing GIF</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Result Section -->
                <div id="resultSection" class="result-section" style="display: none;">
                    <h3 class="section-title">GIF Result</h3>
                    <div class="result-content">
                        <div class="result-preview">
                            <img id="gifPreview" alt="Generated GIF preview" style="max-width: 100%; border-radius: var(--radius-card);">
                        </div>
                        <div class="result-info">
                            <div class="result-stats">
                                <div class="result-stat">
                                    <div class="stat-label">File Size</div>
                                    <div class="stat-value" id="gifFileSize">--</div>
                                </div>
                                <div class="result-stat">
                                    <div class="stat-label">Duration</div>
                                    <div class="stat-value" id="gifDuration">--</div>
                                </div>
                                <div class="result-stat">
                                    <div class="stat-label">Dimensions</div>
                                    <div class="stat-value" id="gifDimensions">--</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <button id="downloadBtn" class="btn btn-primary" onclick="downloadGif()">
                                    üíæ Download GIF
                                </button>
                                <button class="btn btn-secondary" onclick="resetConverter()">
                                    üîÑ Convert Another
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Privacy Notice -->
        <section class="privacy-notice">
            <div class="container">
                <div class="privacy-card">
                    <div class="privacy-icon">üîí</div>
                    <div class="privacy-content">
                        <h3>Privacy Protected</h3>
                        <p>Your video never leaves your device. All processing happens locally in your browser using FFmpeg.wasm. No data is uploaded to our servers, ensuring complete privacy and security.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- AdSense Container -->
        <div class="ad-container bottom-ad">
            <!-- AdSense code will be inserted here -->
        </div>

        <!-- Related Tools -->
        <section class="related-tools">
            <div class="container">
                <h3 class="related-title">More Video & Audio Tools</h3>
                <div class="related-grid">
                    <a href="gif_to_video.html" class="related-card">
                        <div class="related-icon">üé•</div>
                        <div class="related-content">
                            <h4>GIF to Video</h4>
                            <p>Convert animated GIFs back to MP4, MOV, or WebM video formats with customizable settings</p>
                        </div>
                    </a>
                    <a href="video_compressor.html" class="related-card">
                        <div class="related-icon">üì¶</div>
                        <div class="related-content">
                            <h4>Video Compressor</h4>
                            <p>Reduce video file size while maintaining quality with advanced compression algorithms</p>
                        </div>
                    </a>
                    <a href="video_converter.html" class="related-card">
                        <div class="related-icon">üîÑ</div>
                        <div class="related-content">
                            <h4>Video Converter</h4>
                            <p>Convert between different video formats like MP4, AVI, MOV, and WebM</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="/blog/">All Articles</a></li>
                        <li><a href="/blog/?category=productivity">Productivity</a></li>
                        <li><a href="/blog/?category=technology">Technology</a></li>
                        <li><a href="/blog/?category=business">Business</a></li>
                        <li><a href="/blog/?category=learning">Learning</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="/tools/">All Tools</a></li>
                        <li><a href="/tools/categories/image.html">Image Tools</a></li>
                        <li><a href="/tools/categories/pdf.html">PDF Tools</a></li>
                        <li><a href="/tools/categories/video.html">Video/Audio Tools</a></li>
                        <li><a href="/tools/categories/text.html">Text Tools</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about.html">About</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                        <li><a href="/terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="mailto:contact@factictionary.in">Email Us</a></li>
                        <li><a href="/contact.html">Support</a></li>
                        <li><a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">Back to Top</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Factictionary. All rights reserved. Privacy-first educational platform for the modern web.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Global variables
        let currentVideo = null;
        let generatedGif = null;

        // DOM elements
        const videoInput = document.getElementById('videoInput');
        const uploadArea = document.getElementById('uploadArea');
        const videoInfo = document.getElementById('videoInfo');
        const videoPreview = document.getElementById('videoPreview');
        const videoMetadata = document.getElementById('videoMetadata');
        const convertBtn = document.getElementById('convertBtn');
        const progressSection = document.getElementById('progressSection');
        const resultSection = document.getElementById('resultSection');
        const gifPreview = document.getElementById('gifPreview');

        // Initialize tool
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            initializeRangeInputs();
        });

        function initializeEventListeners() {
            // File input change
            videoInput.addEventListener('change', handleVideoFile);
            
            // Drag and drop
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('dragleave', handleDragLeave);
            uploadArea.addEventListener('drop', handleDrop);
            
            // Settings change handlers
            document.getElementById('frameRate').addEventListener('input', updateSettings);
            document.getElementById('startTime').addEventListener('input', updateSettings);
            document.getElementById('endTime').addEventListener('input', updateSettings);
            document.getElementById('outputWidth').addEventListener('input', updateSettings);
            document.getElementById('loopCount').addEventListener('change', updateSettings);
            
            // Color palette change
            document.querySelectorAll('input[name="colorPalette"]').forEach(radio => {
                radio.addEventListener('change', updateSettings);
            });
        }

        function initializeRangeInputs() {
            // Frame rate display
            const frameRateInput = document.getElementById('frameRate');
            const frameRateValue = document.getElementById('frameRateValue');
            frameRateInput.addEventListener('input', () => {
                frameRateValue.textContent = frameRateInput.value;
                updateSizeEstimation();
            });
            
            // Output width display
            const widthInput = document.getElementById('outputWidth');
            const widthValue = document.getElementById('outputWidthValue');
            widthInput.addEventListener('input', () => {
                widthValue.textContent = widthInput.value;
                updateSizeEstimation();
            });
        }

        function handleDragOver(e) {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleVideoFile({ target: { files } });
            }
        }

        function handleVideoFile(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Validate file type
            if (!file.type.startsWith('video/')) {
                showError('Please select a valid video file (MP4, MOV, AVI, WebM)');
                return;
            }

            // Validate file size (100MB limit)
            if (file.size > 100 * 1024 * 1024) {
                showError('File size must be less than 100MB');
                return;
            }

            clearError();
            loadVideo(file);
        }

        function loadVideo(file) {
            currentVideo = file;
            
            // Create video URL and set preview
            const videoUrl = URL.createObjectURL(file);
            videoPreview.src = videoUrl;
            videoInfo.style.display = 'block';
            
            // Get video metadata
            videoPreview.addEventListener('loadedmetadata', () => {
                displayVideoMetadata();
                updateSettings();
                convertBtn.disabled = false;
                
                // Set default end time to video duration
                document.getElementById('endTime').value = videoPreview.duration.toFixed(1);
                updateSizeEstimation();
            });
        }

        function displayVideoMetadata() {
            const duration = formatTime(videoPreview.duration);
            const fileSize = formatFileSize(currentVideo.size);
            
            videoMetadata.innerHTML = `
                <div class="video-metadata-item">
                    <div class="metadata-label">File Name:</div>
                    <div class="metadata-value">${currentVideo.name}</div>
                </div>
                <div class="video-metadata-item">
                    <div class="metadata-label">Duration:</div>
                    <div class="metadata-value">${duration}</div>
                </div>
                <div class="video-metadata-item">
                    <div class="metadata-label">Dimensions:</div>
                    <div class="metadata-value">${videoPreview.videoWidth} √ó ${videoPreview.videoHeight}</div>
                </div>
                <div class="video-metadata-item">
                    <div class="metadata-label">File Size:</div>
                    <div class="metadata-value">${fileSize}</div>
                </div>
                <div class="video-metadata-item">
                    <div class="metadata-label">Format:</div>
                    <div class="metadata-value">${currentVideo.type}</div>
                </div>
            `;
        }

        function updateSettings() {
            if (!currentVideo) return;
            
            // Validate time range
            const startTime = parseFloat(document.getElementById('startTime').value) || 0;
            const endTime = parseFloat(document.getElementById('endTime').value) || 0;
            const maxTime = videoPreview.duration;
            
            if (startTime >= maxTime) {
                document.getElementById('startTime').value = Math.max(0, maxTime - 1);
            }
            if (endTime > maxTime) {
                document.getElementById('endTime').value = maxTime.toFixed(1);
            }
            if (startTime >= endTime) {
                document.getElementById('endTime').value = (startTime + 1).toFixed(1);
            }
            
            updateSizeEstimation();
        }

        function updateSizeEstimation() {
            if (!currentVideo) return;
            
            const originalSize = currentVideo.size;
            const estimatedSize = estimateGifSize();
            
            document.getElementById('originalSize').textContent = formatFileSize(originalSize);
            document.getElementById('estimatedSize').textContent = formatFileSize(estimatedSize);
            
            document.getElementById('sizeEstimation').style.display = 'block';
        }

        function estimateGifSize() {
            if (!currentVideo) return 0;
            
            const frameRate = parseInt(document.getElementById('frameRate').value);
            const startTime = parseFloat(document.getElementById('startTime').value) || 0;
            const endTime = parseFloat(document.getElementById('endTime').value) || videoPreview.duration;
            const duration = endTime - startTime;
            const colorPalette = parseInt(document.querySelector('input[name="colorPalette"]:checked').value);
            
            // Rough estimation based on video properties
            const frameCount = Math.ceil(duration * frameRate);
            const frameSize = (parseInt(document.getElementById('outputWidth').value) * videoPreview.videoHeight / videoPreview.videoWidth) * (colorPalette / 256);
            const baseSize = frameCount * frameSize * 0.1; // Compression factor
            
            return Math.round(baseSize);
        }

        async function convertToGif() {
            if (!currentVideo) return;
            
            // Show progress section
            progressSection.style.display = 'block';
            resultSection.style.display = 'none';
            convertBtn.disabled = true;
            
            try {
                // Initialize FFmpeg (placeholder - will be implemented with actual FFmpeg.wasm)
                await initializeFFmpeg();
                
                // Phase 1: Analyze video
                updateProgress(0, 'Analyzing video...');
                await simulateProgress(1000);
                
                // Phase 2: Generate palette
                updateProgress(25, 'Generating color palette...');
                await simulateProgress(2000);
                
                // Phase 3: Create frames
                updateProgress(50, 'Creating frames...');
                await simulateProgress(3000);
                
                // Phase 4: Optimize GIF
                updateProgress(75, 'Optimizing GIF...');
                const gifBlob = await convertVideoToGif();
                updateProgress(100, 'Complete!');
                
                // Show result
                showResult(gifBlob);
                
            } catch (error) {
                showError('Conversion failed: ' + error.message);
                resetProgress();
            }
        }

        async function initializeFFmpeg() {
            // Placeholder for FFmpeg.wasm initialization
            // This will be replaced with actual FFmpeg.wasm integration
            updateProgress(5, 'Loading FFmpeg...');
            await simulateProgress(500);
        }

        async function convertVideoToGif() {
            // Placeholder for actual conversion logic
            // This will be replaced with FFmpeg.wasm commands
            const settings = getConversionSettings();
            console.log('Converting with settings:', settings);
            
            // Simulate conversion
            await simulateProgress(2000);
            
            // Return a dummy result for now
            return new Blob(['dummy gif data'], { type: 'image/gif' });
        }

        function getConversionSettings() {
            return {
                frameRate: parseInt(document.getElementById('frameRate').value),
                startTime: parseFloat(document.getElementById('startTime').value) || 0,
                endTime: parseFloat(document.getElementById('endTime').value) || videoPreview.duration,
                width: parseInt(document.getElementById('outputWidth').value),
                colorPalette: parseInt(document.querySelector('input[name="colorPalette"]:checked').value),
                loopCount: parseInt(document.getElementById('loopCount').value)
            };
        }

        async function simulateProgress(duration) {
            return new Promise(resolve => setTimeout(resolve, duration));
        }

        function updateProgress(percent, text) {
            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('progressText').textContent = text;
        }

        function showResult(gifBlob) {
            generatedGif = gifBlob;
            const gifUrl = URL.createObjectURL(gifBlob);
            
            gifPreview.src = gifUrl;
            
            // Show file info
            document.getElementById('gifFileSize').textContent = formatFileSize(gifBlob.size);
            
            const duration = parseFloat(document.getElementById('endTime').value) - parseFloat(document.getElementById('startTime').value);
            document.getElementById('gifDuration').textContent = formatTime(duration);
            
            const width = parseInt(document.getElementById('outputWidth').value);
            const height = Math.round(width * videoPreview.videoHeight / videoPreview.videoWidth);
            document.getElementById('gifDimensions').textContent = `${width} √ó ${height}`;
            
            progressSection.style.display = 'none';
            resultSection.style.display = 'block';
            convertBtn.disabled = false;
        }

        function downloadGif() {
            if (!generatedGif) return;
            
            const url = URL.createObjectURL(generatedGif);
            const a = document.createElement('a');
            a.href = url;
            a.download = currentVideo.name.replace(/\.[^/.]+$/, '') + '.gif';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function resetConverter() {
            currentVideo = null;
            generatedGif = null;
            
            // Reset UI
            videoInput.value = '';
            videoInfo.style.display = 'none';
            resultSection.style.display = 'none';
            progressSection.style.display = 'none';
            document.getElementById('sizeEstimation').style.display = 'none';
            convertBtn.disabled = true;
            clearError();
        }

        function showError(message) {
            const errorElement = document.getElementById('uploadError');
            errorElement.querySelector('.error-text').textContent = message;
            errorElement.style.display = 'flex';
        }

        function clearError() {
            document.getElementById('uploadError').style.display = 'none';
        }

        function resetProgress() {
            progressSection.style.display = 'none';
            convertBtn.disabled = false;
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return mins > 0 ? `${mins}:${secs.toString().padStart(2, '0')}` : `${secs}s`;
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }

        // Mobile menu functionality
        const menuToggle = document.querySelector('.menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        menuToggle.addEventListener('click', () => {
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', !isExpanded);
            navLinks.classList.toggle('active');
        });
    </script>

    <style>
        /* Tool-specific styles */
        .upload-section {
            background: var(--color-surface);
            border: 2px dashed var(--color-neutral-300);
            border-radius: var(--radius-card);
            padding: var(--spacing-2xl);
            margin-bottom: var(--spacing-xl);
            text-align: center;
            transition: all var(--duration-standard) var(--easing-standard);
        }

        .upload-section:hover {
            border-color: var(--color-primary-400);
            background: var(--color-primary-50);
        }

        .upload-area {
            cursor: pointer;
            padding: var(--spacing-xl);
        }

        .upload-area.drag-over {
            border-color: var(--color-primary-500);
            background: var(--color-primary-100);
        }

        .upload-label {
            display: block;
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
            margin-bottom: var(--spacing-md);
            font-size: var(--font-size-body);
        }

        .upload-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-md);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-sm);
        }

        .upload-title {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin: 0;
        }

        .upload-subtitle {
            color: var(--color-neutral-600);
            font-size: var(--font-size-body);
            margin: 0;
        }

        .upload-error {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: var(--radius-button);
            padding: var(--spacing-md);
            margin-top: var(--spacing-md);
            color: #dc2626;
        }

        .error-icon {
            font-size: 1.2rem;
        }

        .video-info {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .video-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
        }

        .video-preview video {
            width: 100%;
            max-height: 300px;
        }

        .video-metadata {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .video-metadata-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm) 0;
            border-bottom: 1px solid var(--color-neutral-200);
        }

        .video-metadata-item:last-child {
            border-bottom: none;
        }

        .metadata-label {
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
        }

        .metadata-value {
            color: var(--color-neutral-900);
            font-weight: var(--font-weight-semibold);
        }

        .settings-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .setting-group {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .setting-label {
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
            font-size: var(--font-size-body);
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .range-input {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: var(--color-neutral-200);
            outline: none;
            appearance: none;
        }

        .range-input::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary-500);
            cursor: pointer;
        }

        .range-value {
            min-width: 60px;
            text-align: right;
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary-600);
        }

        .number-input, .select-input {
            flex: 1;
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--color-neutral-300);
            border-radius: var(--radius-input);
            font-size: var(--font-size-body);
            transition: border-color var(--duration-fast);
        }

        .number-input:focus, .select-input:focus {
            outline: none;
            border-color: var(--color-primary-500);
            box-shadow: 0 0 0 3px var(--color-primary-100);
        }

        .unit {
            color: var(--color-neutral-600);
            font-size: var(--font-size-small);
        }

        .setting-help {
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
            font-style: italic;
        }

        .color-palette {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
        }

        .palette-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-xs);
            cursor: pointer;
            padding: var(--spacing-sm);
            border-radius: var(--radius-button);
            transition: all var(--duration-fast);
        }

        .palette-option:hover {
            background: var(--color-neutral-50);
        }

        .palette-option input[type="radio"] {
            display: none;
        }

        .palette-option input[type="radio"]:checked + .palette-preview {
            border-color: var(--color-primary-500);
            box-shadow: 0 0 0 3px var(--color-primary-100);
        }

        .palette-preview {
            width: 40px;
            height: 40px;
            border: 2px solid var(--color-neutral-300);
            border-radius: var(--radius-button);
            transition: all var(--duration-fast);
        }

        .palette-256 {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7);
        }

        .palette-64 {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
        }

        .palette-16 {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
        }

        .palette-label {
            text-align: center;
            font-size: var(--font-size-small);
            color: var(--color-neutral-700);
        }

        .palette-label small {
            color: var(--color-neutral-500);
        }

        .size-estimation {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .size-comparison {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-lg);
        }

        .size-item {
            text-align: center;
            padding: var(--spacing-lg);
            background: var(--color-neutral-50);
            border-radius: var(--radius-card);
            min-width: 150px;
        }

        .size-item.original {
            border: 2px solid var(--color-neutral-300);
        }

        .size-item.converted {
            border: 2px solid var(--color-primary-200);
            background: var(--color-primary-50);
        }

        .size-label {
            font-size: var(--font-size-small);
            color: var(--color-neutral-600);
            margin-bottom: var(--spacing-xs);
        }

        .size-value {
            font-size: var(--font-size-title);
            font-weight: var(--font-weight-bold);
            color: var(--color-neutral-900);
        }

        .size-item.converted .size-value {
            color: var(--color-primary-600);
        }

        .size-arrow {
            font-size: var(--font-size-title);
            color: var(--color-neutral-400);
        }

        .convert-section {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .btn-large {
            padding: var(--spacing-md) var(--spacing-2xl);
            font-size: var(--font-size-body-large);
        }

        .btn-large:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .progress-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .progress-container {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--color-neutral-200);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary-500), var(--color-secondary-500));
            transition: width var(--duration-standard);
        }

        .progress-text {
            text-align: center;
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
        }

        .progress-phases {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .phase {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm);
            border-radius: var(--radius-button);
            background: var(--color-neutral-50);
            transition: all var(--duration-fast);
        }

        .phase.active {
            background: var(--color-primary-100);
            color: var(--color-primary-700);
        }

        .phase-icon {
            font-size: 1.2rem;
        }

        .phase-text {
            font-size: var(--font-size-small);
            font-weight: var(--font-weight-medium);
        }

        .phase-arrow {
            color: var(--color-neutral-400);
            font-size: 1.2rem;
        }

        .result-section {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .result-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
        }

        .result-preview {
            text-align: center;
        }

        .result-info {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }

        .result-stats {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .result-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md);
            background: var(--color-neutral-50);
            border-radius: var(--radius-button);
        }

        .stat-label {
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-700);
        }

        .stat-value {
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary-600);
        }

        .result-actions {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .privacy-notice {
            background: var(--color-neutral-50);
            padding: var(--spacing-xl) 0;
        }

        .privacy-card {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .privacy-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .privacy-content h3 {
            margin: 0 0 var(--spacing-xs) 0;
            color: var(--color-neutral-900);
            font-size: var(--font-size-subtitle);
        }

        .privacy-content p {
            margin: 0;
            color: var(--color-neutral-700);
            line-height: 1.6;
        }

        .related-tools {
            padding: var(--spacing-3xl) 0;
            background: var(--color-neutral-50);
        }

        .related-title {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .related-card {
            background: var(--color-surface);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            text-decoration: none;
            transition: all var(--duration-standard) var(--easing-standard);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .related-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card-hover);
            border-color: var(--color-primary-100);
        }

        .related-icon {
            font-size: 2em;
            flex-shrink: 0;
        }

        .related-content h4 {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-xs);
        }

        .related-content p {
            color: var(--color-neutral-700);
            font-size: var(--font-size-body);
            margin: 0;
        }

        @media (max-width: 768px) {
            .video-details {
                grid-template-columns: 1fr;
            }
            
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .size-comparison {
                flex-direction: column;
                gap: var(--spacing-md);
            }
            
            .result-content {
                grid-template-columns: 1fr;
            }
            
            .progress-phases {
                flex-direction: column;
                gap: var(--spacing-sm);
            }
            
            .privacy-card {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .color-palette {
                justify-content: center;
            }
            
            .result-actions {
                flex-direction: column;
            }
        }
    </style>
</body>
</html>