<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Trimmer | Free Browser Tool | Factictionary</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Trim audio files with precision using waveform visualization and timeline editing. Cut, fade, and export with professional tools. - 100% privacy-protected, no uploads required.">
    <meta name="keywords" content="audio trimmer, audio cutter, audio editor, audio, trim, cut, fade, free, online, privacy-first">
    <meta name="author" content="Factictionary Team">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://factictionary.github.io/tools/audio_trimmer.html">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Audio Trimmer | Factictionary Tools">
    <meta property="og:description" content="Trim audio files with precision using waveform visualization and timeline editing. - 100% privacy-protected.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://factictionary.github.io/tools/audio_trimmer.html">
    <meta property="og:image" content="https://factictionary.github.io/assets/images/modern_technology_innovation_circuit_board_illustration.jpg">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Audio Trimmer | Factictionary Tools">
    <meta name="twitter:description" content="Trim audio files with precision using waveform visualization and timeline editing. - 100% privacy-protected.">
    <meta name="twitter:image" content="https://factictionary.github.io/assets/images/modern_technology_innovation_circuit_board_illustration.jpg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.6/dist/umd/ffmpeg.js"></script>
    <script src="https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- Tool-specific styles -->
    <style>
        .tool-header {
            background: linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%);
            color: white;
            padding: var(--spacing-4xl) var(--spacing-lg);
            text-align: center;
            margin-top: -80px;
            padding-top: calc(var(--spacing-4xl) + 80px);
        }
        
        .tool-title {
            font-size: var(--font-size-title);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--spacing-md);
            line-height: var(--line-height-tight);
        }
        
        .tool-subtitle {
            font-size: var(--font-size-subtitle);
            font-weight: var(--font-weight-medium);
            opacity: 0.9;
            margin-bottom: var(--spacing-xl);
        }
        
        .tool-main {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-3xl) var(--spacing-lg);
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--spacing-3xl);
        }
        
        .tool-workspace {
            background: var(--color-surface);
            border-radius: var(--radius-card);
            padding: var(--spacing-2xl);
            box-shadow: var(--shadow-card);
            min-height: 600px;
        }
        
        .tool-sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }
        
        .tool-info {
            background: var(--color-surface);
            border-radius: var(--radius-card);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-card);
        }
        
        .tool-info h3 {
            font-size: var(--font-size-body-large);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-md);
        }
        
        .tool-feature {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }
        
        .tool-feature-icon {
            color: #8B5CF6;
            font-weight: var(--font-weight-bold);
            margin-top: 2px;
        }
        
        .tool-feature-text {
            color: var(--color-neutral-700);
            font-size: var(--font-size-small);
        }
        
        .drop-zone {
            border: 3px dashed #8B5CF640;
            border-radius: var(--radius-card);
            padding: var(--spacing-3xl);
            text-align: center;
            background: #FAF5FF;
            transition: all var(--duration-standard) var(--easing-standard);
            margin-bottom: var(--spacing-xl);
        }
        
        .drop-zone:hover,
        .drop-zone.drag-over {
            border-color: #8B5CF6;
            background: #FAF5FFCC;
        }
        
        .drop-zone-icon {
            font-size: 4rem;
            color: #8B5CF6;
            margin-bottom: var(--spacing-md);
        }
        
        .drop-zone-text {
            font-size: var(--font-size-body);
            color: var(--color-neutral-600);
            margin-bottom: var(--spacing-lg);
        }
        
        .btn-file-input {
            background: #8B5CF6;
            color: white;
            border: none;
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-button);
            font-size: var(--font-size-body);
            font-weight: var(--font-weight-semibold);
            cursor: pointer;
            transition: all var(--duration-fast) var(--easing-standard);
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        
        .btn-file-input:hover {
            background: #7C3AED;
            transform: translateY(-2px);
            box-shadow: var(--shadow-card-hover);
        }
        
        .file-list {
            margin-bottom: var(--spacing-xl);
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md);
            background: var(--color-neutral-50);
            border-radius: var(--radius-input);
            margin-bottom: var(--spacing-sm);
            border: 1px solid var(--color-neutral-200);
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .file-icon {
            color: #8B5CF6;
            font-size: 1.5rem;
        }
        
        .file-details {
            flex: 1;
        }
        
        .file-name {
            font-weight: var(--font-weight-medium);
            color: var(--color-neutral-900);
            margin-bottom: 2px;
        }
        
        .file-size {
            font-size: var(--font-size-small);
            color: var(--color-neutral-500);
        }
        
        .file-remove {
            background: none;
            border: none;
            color: var(--color-neutral-500);
            cursor: pointer;
            padding: var(--spacing-xs);
            border-radius: 6px;
            transition: all var(--duration-fast) var(--easing-standard);
        }
        
        .file-remove:hover {
            color: var(--color-error);
            background: var(--color-neutral-100);
        }
        
        .waveform-container {
            background: var(--color-neutral-50);
            border-radius: var(--radius-card);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            border: 1px solid var(--color-neutral-200);
        }
        
        .waveform {
            height: 128px;
            background: var(--color-surface);
            border-radius: var(--radius-input);
            margin-bottom: var(--spacing-md);
        }
        
        .timeline-controls {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
            margin-bottom: var(--spacing-md);
        }
        
        .time-display {
            background: var(--color-surface);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-input);
            font-family: 'Courier New', monospace;
            font-weight: var(--font-weight-medium);
            border: 1px solid var(--color-neutral-200);
            min-width: 140px;
            text-align: center;
        }
        
        .trim-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }
        
        .trim-control {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }
        
        .trim-control label {
            font-size: var(--font-size-small);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-700);
        }
        
        .trim-input {
            display: flex;
            gap: var(--spacing-xs);
            align-items: center;
        }
        
        .trim-input input {
            flex: 1;
            padding: var(--spacing-sm);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-input);
            font-family: 'Courier New', monospace;
            font-size: var(--font-size-small);
        }
        
        .time-input {
            width: 80px;
        }
        
        .playback-controls {
            display: flex;
            gap: var(--spacing-sm);
            justify-content: center;
            margin-bottom: var(--spacing-lg);
        }
        
        .playback-btn {
            background: var(--color-primary-500);
            color: white;
            border: none;
            padding: var(--spacing-md);
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all var(--duration-fast) var(--easing-standard);
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .playback-btn:hover {
            background: var(--color-primary-600);
            transform: scale(1.05);
        }
        
        .playback-btn:disabled {
            background: var(--color-neutral-300);
            cursor: not-allowed;
            transform: none;
        }
        
        .fade-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }
        
        .fade-control {
            background: var(--color-neutral-50);
            padding: var(--spacing-lg);
            border-radius: var(--radius-input);
            border: 1px solid var(--color-neutral-200);
        }
        
        .fade-control h4 {
            font-size: var(--font-size-small);
            font-weight: var(--font-weight-semibold);
            color: var(--color-neutral-900);
            margin-bottom: var(--spacing-sm);
        }
        
        .fade-input {
            display: flex;
            gap: var(--spacing-xs);
            align-items: center;
        }
        
        .fade-input input {
            flex: 1;
            padding: var(--spacing-xs);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-input);
            font-size: var(--font-size-small);
        }
        
        .export-settings {
            background: var(--color-neutral-50);
            padding: var(--spacing-lg);
            border-radius: var(--radius-input);
            border: 1px solid var(--color-neutral-200);
            margin-bottom: var(--spacing-lg);
        }
        
        .export-settings h3 {
            margin-bottom: var(--spacing-md);
        }
        
        .format-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }
        
        .format-option {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        
        .format-option input[type="radio"] {
            accent-color: #8B5CF6;
        }
        
        .quality-control {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }
        
        .quality-slider {
            width: 100%;
            accent-color: #8B5CF6;
        }
        
        .progress-container {
            background: var(--color-neutral-100);
            border-radius: var(--radius-input);
            height: 8px;
            margin: var(--spacing-md) 0;
            overflow: hidden;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #8B5CF6, #A855F7);
            height: 100%;
            width: 0%;
            transition: width var(--duration-fast) var(--easing-standard);
            border-radius: inherit;
        }
        
        .batch-actions {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }
        
        .btn-trim {
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
            color: white;
            border: none;
            padding: var(--spacing-md) var(--spacing-xl);
            border-radius: var(--radius-button);
            font-size: var(--font-size-body);
            font-weight: var(--font-weight-semibold);
            cursor: pointer;
            transition: all var(--duration-fast) var(--easing-standard);
            flex: 1;
        }
        
        .btn-trim:hover:not(:disabled) {
            background: linear-gradient(135deg, #7C3AED, #9333EA);
            transform: translateY(-2px);
            box-shadow: var(--shadow-card-hover);
        }
        
        .btn-trim:disabled {
            background: var(--color-neutral-300);
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-clear {
            background: transparent;
            color: var(--color-neutral-600);
            border: 1px solid var(--color-neutral-300);
            padding: var(--spacing-md) var(--spacing-lg);
            border-radius: var(--radius-button);
            font-size: var(--font-size-body);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--duration-fast) var(--easing-standard);
        }
        
        .btn-clear:hover {
            background: var(--color-neutral-100);
            border-color: var(--color-neutral-400);
        }
        
        .download-section {
            display: none;
            background: var(--color-success);
            color: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-card);
            text-align: center;
            margin-top: var(--spacing-lg);
        }
        
        .download-section.show {
            display: block;
        }
        
        .download-link {
            background: white;
            color: var(--color-success);
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-button);
            text-decoration: none;
            font-weight: var(--font-weight-semibold);
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            margin-top: var(--spacing-sm);
            transition: all var(--duration-fast) var(--easing-standard);
        }
        
        .download-link:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card-hover);
        }
        
        .status-message {
            padding: var(--spacing-md);
            border-radius: var(--radius-input);
            margin-bottom: var(--spacing-md);
            display: none;
        }
        
        .status-message.show {
            display: block;
        }
        
        .status-message.success {
            background: #D1FAE5;
            color: #065F46;
            border: 1px solid #34D399;
        }
        
        .status-message.error {
            background: #FEE2E2;
            color: #991B1B;
            border: 1px solid #F87171;
        }
        
        .status-message.info {
            background: #DBEAFE;
            color: #1E40AF;
            border: 1px solid #60A5FA;
        }
        
        @media (max-width: 1024px) {
            .tool-main {
                grid-template-columns: 1fr;
                gap: var(--spacing-xl);
            }
            
            .trim-controls {
                grid-template-columns: 1fr;
            }
            
            .fade-controls {
                grid-template-columns: 1fr;
            }
            
            .format-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .timeline-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .playback-controls {
                flex-wrap: wrap;
            }
            
            .batch-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <a href="/" class="logo">Factictionary</a>
            
            <ul class="nav-links">
                <li><a href="/blog/" class="nav-link">Blog</a></li>
                <li><a href="/tools/" class="nav-link active">Tools</a></li>
                <li><a href="/about.html" class="nav-link">About</a></li>
                <li><a href="/contact.html" class="nav-link">Contact</a></li>
            </ul>
            
            <div class="nav-cta">
                <a href="/blog/" class="btn btn-primary">Read Articles</a>
            </div>
            
            <button class="menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span>‚ò∞</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main">
        <!-- Breadcrumbs -->
        <nav class="breadcrumbs" aria-label="Breadcrumb navigation">
            <ol class="breadcrumb-list">
                <li><a href="/">Home</a></li>
                <li><a href="/tools/">Tools</a></li>
                <li><a href="/tools/index.html">Audio Tools</a></li>
                <li aria-current="page">Audio Trimmer</li>
            </ol>
        </nav>

        <!-- Tool Header -->
        <section class="tool-header">
            <div class="container">
                <h1 class="tool-title">Audio Trimmer</h1>
                <p class="tool-subtitle">Professional audio trimming with waveform visualization and precision controls</p>
                <div class="hero-cta">
                    <span class="category-badge">100% Privacy Protected</span>
                    <span class="category-badge">Client-Side Processing</span>
                </div>
            </div>
        </section>

        <!-- AdSense Container -->
        <div class="adsense-container container">
            <div class="adsense-label">Advertisement</div>
            <!-- AdSense code will be inserted here -->
        </div>

        <!-- Tool Main -->
        <section class="tool-main">
            <!-- Workspace -->
            <div class="tool-workspace">
                <div class="status-message" id="statusMessage"></div>
                
                <!-- Drop Zone -->
                <div class="drop-zone" id="dropZone">
                    <div class="drop-zone-icon">üéµ</div>
                    <div class="drop-zone-text">
                        <strong>Drop audio files here</strong><br>
                        or click to browse files
                    </div>
                    <input type="file" id="fileInput" accept="audio/*" multiple style="display: none;">
                    <button class="btn-file-input" onclick="document.getElementById('fileInput').click()">
                        üìÅ Browse Files
                    </button>
                </div>
                
                <!-- File List -->
                <div class="file-list" id="fileList"></div>
                
                <!-- Waveform Visualization -->
                <div class="waveform-container" id="waveformContainer" style="display: none;">
                    <div class="timeline-controls">
                        <div class="time-display" id="currentTime">00:00</div>
                        <button class="playback-btn" id="playPauseBtn" disabled>‚ñ∂Ô∏è</button>
                        <div class="time-display" id="totalTime">00:00</div>
                    </div>
                    <div class="waveform" id="waveform"></div>
                    <div class="trim-controls">
                        <div class="trim-control">
                            <label for="startTime">Start Time (mm:ss)</label>
                            <div class="trim-input">
                                <input type="text" id="startTime" placeholder="00:00" class="time-input" value="00:00">
                                <button class="btn btn-ghost" id="setStartBtn">Set from current</button>
                            </div>
                        </div>
                        <div class="trim-control">
                            <label for="endTime">End Time (mm:ss)</label>
                            <div class="trim-input">
                                <input type="text" id="endTime" placeholder="00:00" class="time-input">
                                <button class="btn btn-ghost" id="setEndBtn">Set from current</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Fade Controls -->
                <div class="fade-controls" id="fadeControls" style="display: none;">
                    <div class="fade-control">
                        <h4>Fade In Duration</h4>
                        <div class="fade-input">
                            <input type="number" id="fadeInDuration" min="0" max="10" step="0.1" value="0">
                            <span>seconds</span>
                        </div>
                    </div>
                    <div class="fade-control">
                        <h4>Fade Out Duration</h4>
                        <div class="fade-input">
                            <input type="number" id="fadeOutDuration" min="0" max="10" step="0.1" value="0">
                            <span>seconds</span>
                        </div>
                    </div>
                </div>
                
                <!-- Export Settings -->
                <div class="export-settings" id="exportSettings" style="display: none;">
                    <h3>Export Settings</h3>
                    <div class="format-options">
                        <div class="format-option">
                            <input type="radio" id="formatMP3" name="format" value="mp3" checked>
                            <label for="formatMP3">MP3</label>
                        </div>
                        <div class="format-option">
                            <input type="radio" id="formatWAV" name="format" value="wav">
                            <label for="formatWAV">WAV</label>
                        </div>
                        <div class="format-option">
                            <input type="radio" id="formatM4A" name="format" value="m4a">
                            <label for="formatM4A">M4A</label>
                        </div>
                        <div class="format-option">
                            <input type="radio" id="formatOGG" name="format" value="ogg">
                            <label for="formatOGG">OGG</label>
                        </div>
                    </div>
                    <div class="quality-control">
                        <label for="qualitySlider">Quality: <span id="qualityValue">128</span> kbps</label>
                        <input type="range" id="qualitySlider" class="quality-slider" min="64" max="320" value="128" step="32">
                    </div>
                </div>
                
                <!-- Batch Actions -->
                <div class="batch-actions" id="batchActions" style="display: none;">
                    <button class="btn-trim" id="processBtn" disabled>
                        ‚úÇÔ∏è Trim Audio
                    </button>
                    <button class="btn-clear" id="clearBtn">
                        üóëÔ∏è Clear All
                    </button>
                </div>
                
                <!-- Progress Container -->
                <div class="progress-container" id="progressContainer" style="display: none;">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                
                <!-- Download Section -->
                <div class="download-section" id="downloadSection">
                    <h3>‚úÖ Trimmed Successfully!</h3>
                    <p id="downloadMessage">Your audio file has been trimmed and is ready for download.</p>
                    <a href="#" class="download-link" id="downloadLink">
                        üì• Download Audio
                    </a>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="tool-sidebar">
                <!-- Features -->
                <div class="tool-info">
                    <h3>üéØ Key Features</h3>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Waveform visualization with timeline editing</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Drag-and-drop file upload support</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Precise start/end time selection</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Fade in/out audio effects</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Batch processing capabilities</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Multiple export formats (MP3, WAV, M4A, OGG)</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Real-time playback and preview</span>
                    </div>
                </div>
                
                <!-- Supported Formats -->
                <div class="tool-info">
                    <h3>üìÅ Supported Formats</h3>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">üéµ</span>
                        <span class="tool-feature-text">MP3, WAV, M4A, OGG, FLAC, AAC</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">üìä</span>
                        <span class="tool-feature-text">Up to 100MB per file</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚ö°</span>
                        <span class="tool-feature-text">Client-side processing</span>
                    </div>
                </div>
                
                <!-- Privacy -->
                <div class="tool-info">
                    <h3>üîí Privacy & Security</h3>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">100% client-side processing</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">No data uploads to servers</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Files processed in browser memory</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">‚úì</span>
                        <span class="tool-feature-text">Automatic data cleanup after use</span>
                    </div>
                </div>
                
                <!-- Instructions -->
                <div class="tool-info">
                    <h3>üìñ How to Use</h3>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">1</span>
                        <span class="tool-feature-text">Upload your audio files via drag-and-drop or browse</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">2</span>
                        <span class="tool-feature-text">Select trim points using the waveform visualization</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">3</span>
                        <span class="tool-feature-text">Adjust fade in/out settings if needed</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">4</span>
                        <span class="tool-feature-text">Choose export format and quality settings</span>
                    </div>
                    <div class="tool-feature">
                        <span class="tool-feature-icon">5</span>
                        <span class="tool-feature-text">Click "Trim Audio" and download your result</span>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- AdSense Container -->
        <div class="adsense-container container">
            <div class="adsense-label">Advertisement</div>
            <!-- AdSense code will be inserted here -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="/tools/audio_trimmer.html">Audio Trimmer</a></li>
                        <li><a href="/tools/audio_converter.html">Audio Converter</a></li>
                        <li><a href="/tools/audio_editor.html">Audio Editor</a></li>
                        <li><a href="/tools/">Browse All Tools</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/about.html">About Us</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="https://github.com/factictionary">GitHub</a></li>
                        <li><a href="https://twitter.com/factictionary">Twitter</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Factictionary. All rights reserved. | Privacy-first tools for content creators.</p>
            </div>
        </div>
    </footer>

    <!-- Main JavaScript -->
    <script src="/assets/js/main.js"></script>
    
    <!-- Audio Trimmer JavaScript -->
    <script>
        // Global variables
        let files = [];
        let currentFileIndex = 0;
        let wavesurfer = null;
        let audioContext = null;
        let ffmpeg = null;
        let isLoaded = false;
        
        // Initialize FFmpeg
        async function initFFmpeg() {
            try {
                ffmpeg = FFmpeg.createFFmpeg({
                    log: false,
                    corePath: 'https://unpkg.com/@ffmpeg/core@0.12.6/dist/ffmpeg-core.js',
                });
                await ffmpeg.load();
                isLoaded = true;
                showStatus('FFmpeg loaded successfully', 'success');
            } catch (error) {
                console.error('Error loading FFmpeg:', error);
                showStatus('Error loading audio processing library', 'error');
            }
        }
        
        // Initialize audio context
        function initAudioContext() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            } catch (error) {
                console.error('Error initializing audio context:', error);
                showStatus('Web Audio API not supported', 'error');
            }
        }
        
        // File handling
        document.getElementById('fileInput').addEventListener('change', handleFileSelect);
        document.getElementById('dropZone').addEventListener('dragover', handleDragOver);
        document.getElementById('dropZone').addEventListener('dragleave', handleDragLeave);
        document.getElementById('dropZone').addEventListener('drop', handleDrop);
        document.getElementById('dropZone').addEventListener('click', () => document.getElementById('fileInput').click());
        
        function handleFileSelect(event) {
            const selectedFiles = Array.from(event.target.files);
            addFiles(selectedFiles);
        }
        
        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('drag-over');
        }
        
        function handleDragLeave(event) {
            event.currentTarget.classList.remove('drag-over');
        }
        
        function handleDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('drag-over');
            
            const droppedFiles = Array.from(event.dataTransfer.files).filter(file => 
                file.type.startsWith('audio/')
            );
            addFiles(droppedFiles);
        }
        
        function addFiles(newFiles) {
            const validFiles = newFiles.filter(file => {
                const validTypes = ['audio/mpeg', 'audio/wav', 'audio/mp4', 'audio/m4a', 'audio/ogg', 'audio/flac', 'audio/aac'];
                const maxSize = 100 * 1024 * 1024; // 100MB
                
                if (!validTypes.includes(file.type)) {
                    showStatus(`Unsupported file type: ${file.name}`, 'error');
                    return false;
                }
                
                if (file.size > maxSize) {
                    showStatus(`File too large: ${file.name} (max 100MB)`, 'error');
                    return false;
                }
                
                return true;
            });
            
            files = files.concat(validFiles);
            displayFileList();
            
            if (files.length > 0) {
                showWaveformContainer();
                loadCurrentFile();
            }
        }
        
        function displayFileList() {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';
            
            files.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <span class="file-icon">üéµ</span>
                        <div class="file-details">
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${formatFileSize(file.size)}</div>
                        </div>
                    </div>
                    <button class="file-remove" onclick="removeFile(${index})">‚úï</button>
                `;
                
                if (index === currentFileIndex) {
                    fileItem.style.borderColor = '#8B5CF6';
                    fileItem.style.background = '#FAF5FF';
                }
                
                fileList.appendChild(fileItem);
            });
            
            updateControls();
        }
        
        function removeFile(index) {
            files.splice(index, 1);
            if (currentFileIndex >= files.length) {
                currentFileIndex = 0;
            }
            displayFileList();
            
            if (files.length === 0) {
                hideWaveformContainer();
            } else {
                loadCurrentFile();
            }
        }
        
        function showWaveformContainer() {
            document.getElementById('waveformContainer').style.display = 'block';
            document.getElementById('fadeControls').style.display = 'grid';
            document.getElementById('exportSettings').style.display = 'block';
            document.getElementById('batchActions').style.display = 'flex';
        }
        
        function hideWaveformContainer() {
            document.getElementById('waveformContainer').style.display = 'none';
            document.getElementById('fadeControls').style.display = 'none';
            document.getElementById('exportSettings').style.display = 'none';
            document.getElementById('batchActions').style.display = 'none';
            document.getElementById('downloadSection').classList.remove('show');
        }
        
        function loadCurrentFile() {
            if (files.length === 0) return;
            
            const file = files[currentFileIndex];
            const url = URL.createObjectURL(file);
            
            if (wavesurfer) {
                wavesurfer.destroy();
            }
            
            wavesurfer = WaveSurfer.create({
                container: '#waveform',
                waveColor: '#8B5CF6',
                progressColor: '#A855F7',
                cursorColor: '#7C3AED',
                height: 128,
                responsive: true,
                normalize: true,
            });
            
            wavesurfer.load(url);
            
            wavesurfer.on('ready', () => {
                const duration = wavesurfer.getDuration();
                document.getElementById('endTime').placeholder = formatTime(duration);
                document.getElementById('totalTime').textContent = formatTime(duration);
                updateControls();
            });
            
            wavesurfer.on('audioprocess', () => {
                const currentTime = wavesurfer.getCurrentTime();
                document.getElementById('currentTime').textContent = formatTime(currentTime);
            });
            
            wavesurfer.on('seek', () => {
                const currentTime = wavesurfer.getCurrentTime();
                document.getElementById('currentTime').textContent = formatTime(currentTime);
            });
        }
        
        function updateControls() {
            const hasFiles = files.length > 0;
            document.getElementById('processBtn').disabled = !hasFiles;
            document.getElementById('playPauseBtn').disabled = !hasFiles;
        }
        
        // Playback controls
        document.getElementById('playPauseBtn').addEventListener('click', togglePlayback);
        
        function togglePlayback() {
            if (!wavesurfer) return;
            
            if (wavesurfer.isPlaying()) {
                wavesurfer.pause();
                document.getElementById('playPauseBtn').textContent = '‚ñ∂Ô∏è';
            } else {
                wavesurfer.play();
                document.getElementById('playPauseBtn').textContent = '‚è∏Ô∏è';
            }
        }
        
        // Time controls
        document.getElementById('setStartBtn').addEventListener('click', () => {
            if (wavesurfer) {
                const currentTime = wavesurfer.getCurrentTime();
                document.getElementById('startTime').value = formatTime(currentTime);
            }
        });
        
        document.getElementById('setEndBtn').addEventListener('click', () => {
            if (wavesurfer) {
                const currentTime = wavesurfer.getCurrentTime();
                document.getElementById('endTime').value = formatTime(currentTime);
            }
        });
        
        // Quality slider
        document.getElementById('qualitySlider').addEventListener('input', (event) => {
            document.getElementById('qualityValue').textContent = event.target.value;
        });
        
        // Processing
        document.getElementById('processBtn').addEventListener('click', processAudio);
        document.getElementById('clearBtn').addEventListener('click', clearAll);
        
        async function processAudio() {
            if (!isLoaded) {
                showStatus('Loading audio processing library...', 'info');
                await initFFmpeg();
            }
            
            const startTime = parseTime(document.getElementById('startTime').value || '00:00');
            const endTimeText = document.getElementById('endTime').value;
            const endTime = endTimeText ? parseTime(endTimeText) : wavesurfer.getDuration();
            
            if (startTime >= endTime) {
                showStatus('Start time must be less than end time', 'error');
                return;
            }
            
            const fadeInDuration = parseFloat(document.getElementById('fadeInDuration').value) || 0;
            const fadeOutDuration = parseFloat(document.getElementById('fadeOutDuration').value) || 0;
            const format = document.querySelector('input[name="format"]:checked').value;
            const quality = document.getElementById('qualitySlider').value;
            
            showProgress();
            
            try {
                const inputFileName = `input_${currentFileIndex}.${files[currentFileIndex].name.split('.').pop()}`;
                const outputFileName = `output_${currentFileIndex}.${format}`;
                
                // Write input file
                ffmpeg.FS('writeFile', inputFileName, await fetchFile(files[currentFileIndex]));
                
                // Build FFmpeg command
                let command = ['-i', inputFileName];
                
                // Add trim filter
                const duration = endTime - startTime;
                command.push('-ss', startTime.toString(), '-t', duration.toString());
                
                // Add fade filters
                if (fadeInDuration > 0) {
                    command.push('-af', `afade=t=in:st=0:d=${fadeInDuration}`);
                }
                if (fadeOutDuration > 0) {
                    command.push('-af', `afade=t=out:st=${duration - fadeOutDuration}:d=${fadeOutDuration}`);
                }
                
                // Add quality settings
                if (format === 'mp3') {
                    command.push('-b:a', `${quality}k`);
                } else if (format === 'wav') {
                    command.push('-c:a', 'pcm_s16le');
                } else if (format === 'm4a') {
                    command.push('-b:a', `${quality}k`, '-c:a', 'aac');
                } else if (format === 'ogg') {
                    command.push('-b:a', `${quality}k`, '-c:a', 'libvorbis');
                }
                
                command.push(outputFileName);
                
                // Process audio
                await ffmpeg.run(...command);
                
                // Read output
                const data = ffmpeg.FS('readFile', outputFileName);
                const blob = new Blob([data.buffer], { type: `audio/${format}` });
                
                // Create download link
                const url = URL.createObjectURL(blob);
                const fileName = files[currentFileIndex].name.replace(/\.[^/.]+$/, `_trimmed.${format}`);
                
                const downloadLink = document.getElementById('downloadLink');
                downloadLink.href = url;
                downloadLink.download = fileName;
                
                // Show download section
                document.getElementById('downloadSection').classList.add('show');
                document.getElementById('downloadMessage').textContent = 
                    `Successfully trimmed "${files[currentFileIndex].name}" - Ready for download`;
                
                // Cleanup
                ffmpeg.FS('unlink', inputFileName);
                ffmpeg.FS('unlink', outputFileName);
                
                hideProgress();
                showStatus('Audio trimmed successfully!', 'success');
                
                // Auto-download for single file
                if (files.length === 1) {
                    setTimeout(() => downloadLink.click(), 1000);
                }
                
            } catch (error) {
                console.error('Error processing audio:', error);
                hideProgress();
                showStatus('Error processing audio: ' + error.message, 'error');
            }
        }
        
        function clearAll() {
            files = [];
            currentFileIndex = 0;
            displayFileList();
            hideWaveformContainer();
            if (wavesurfer) {
                wavesurfer.destroy();
                wavesurfer = null;
            }
            showStatus('All files cleared', 'info');
        }
        
        // Utility functions
        function showStatus(message, type) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.className = `status-message show ${type}`;
            
            setTimeout(() => {
                statusElement.classList.remove('show');
            }, 5000);
        }
        
        function showProgress() {
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('progressBar').style.width = '0%';
            
            // Simulate progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress > 90) {
                    progress = 90;
                    clearInterval(interval);
                }
                document.getElementById('progressBar').style.width = progress + '%';
            }, 200);
        }
        
        function hideProgress() {
            document.getElementById('progressBar').style.width = '100%';
            setTimeout(() => {
                document.getElementById('progressContainer').style.display = 'none';
            }, 500);
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        function parseTime(timeString) {
            const parts = timeString.split(':');
            const minutes = parseInt(parts[0]) || 0;
            const seconds = parseInt(parts[1]) || 0;
            return minutes * 60 + seconds;
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            initAudioContext();
        });
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (event) => {
            if (event.code === 'Space' && event.target.tagName !== 'INPUT') {
                event.preventDefault();
                togglePlayback();
            }
        });
    </script>
</body>
</html>
