<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fact Memory Match - Brain Games Hub</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">â† Back to Games</a>
        <div class="game-container">
            <h1 style="color: #667eea; text-align: center;">ğŸ§  Fact Memory Match</h1>
            <div class="social-share">
                <button onclick="share('twitter')" class="share-btn">ğŸ¦ Share</button>
                <button onclick="share('facebook')" class="share-btn">ğŸ“˜ Share</button>
            </div>
            <div class="stats">
                <div class="stat"><div class="stat-label">Moves</div><div class="stat-value" id="moves">0</div></div>
                <div class="stat"><div class="stat-label">Pairs</div><div class="stat-value" id="pairs">0/8</div></div>
            </div>
            <div id="gameArea" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 30px auto; max-width: 600px;"></div>
            <div class="ad-rectangle"><div class="ad-placeholder">Advertisement 300x250</div></div>
        </div>
    </div>
    <script src="shared.js"></script>
    <script>
        const cards = ['ğŸŒ', 'ğŸŒŠ', 'ğŸŒ‹', 'ğŸ”ï¸', 'ğŸŒ²', 'ğŸ¦‹', 'ğŸ‹', 'âš¡', 'ğŸŒ', 'ğŸŒŠ', 'ğŸŒ‹', 'ğŸ”ï¸', 'ğŸŒ²', 'ğŸ¦‹', 'ğŸ‹', 'âš¡'];
        let flipped = [];
        let matched = [];
        let moves = 0;
        
        function init() {
            const shuffled = shuffleArray(cards);
            flipped = [];
            matched = [];
            moves = 0;
            document.getElementById('moves').textContent = '0';
            document.getElementById('pairs').textContent = '0/8';
            
            const board = document.getElementById('gameArea');
            board.innerHTML = '';
            shuffled.forEach((card, i) => {
                const div = document.createElement('div');
                div.style.cssText = 'background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 3em; cursor: pointer; aspect-ratio: 1; transition: transform 0.3s;';
                div.textContent = 'â“';
                div.dataset.index = i;
                div.onclick = () => flip(i, div);
                board.appendChild(div);
            });
        }
        
        function flip(index, el) {
            if (flipped.length === 2 || flipped.includes(index) || matched.includes(index)) return;
            
            el.textContent = cards[index];
            el.style.background = 'white';
            flipped.push(index);
            
            if (flipped.length === 2) {
                moves++;
                document.getElementById('moves').textContent = moves;
                
                if (cards[flipped[0]] === cards[flipped[1]]) {
                    matched.push(...flipped);
                    document.getElementById('pairs').textContent = `${matched.length / 2}/8`;
                    flipped = [];
                    
                    if (matched.length === 16) {
                        setTimeout(() => {
                            const score = Math.max(100 - moves * 2, 20);
                            submitScore('Fact Memory Match', score);
                            alert(`ğŸ‰ You won in ${moves} moves!`);
                            init();
                        }, 500);
                    }
                } else {
                    setTimeout(() => {
                        const board = document.getElementById('gameArea');
                        flipped.forEach(i => {
                            board.children[i].textContent = 'â“';
                            board.children[i].style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                        });
                        flipped = [];
                    }, 1000);
                }
            }
        }
        
        init();
    </script>
</body>
</html>