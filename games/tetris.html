<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classic Arcade Games</title>
	<link rel="stylesheet" href="common.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #a5b1c2;
            margin-bottom: 30px;
        }
        
        .games-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }
        
        .game-card {
            background: rgba(30, 30, 46, 0.8);
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            max-width: 550px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
        }
        
        .game-title {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #2d3746;
        }
        
        .game-title h2 {
            font-size: 1.8rem;
            margin-left: 10px;
        }
        
        .game-icon {
            font-size: 2rem;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .game-board {
            background-color: #0f1419;
            border: 2px solid #374151;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 15px;
        }
        
        .score, .level, .lines {
            background: rgba(45, 55, 70, 0.7);
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        
        .controls {
            background: rgba(45, 55, 70, 0.7);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            width: 100%;
        }
        
        .controls h3 {
            margin-bottom: 10px;
            color: #da1b60;
        }
        
        .controls p {
            margin: 5px 0;
            font-size: 0.9rem;
        }
        
        .game-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        button {
            background: linear-gradient(to right, #ff8a00, #da1b60);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            flex: 1;
        }
        
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(218, 27, 96, 0.4);
        }
        
        .instructions {
            margin-top: 30px;
            background: rgba(30, 30, 46, 0.8);
            padding: 20px;
            border-radius: 15px;
            max-width: 1130px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .instructions h2 {
            color: #ff8a00;
            margin-bottom: 15px;
        }
        
        .instructions p {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #a5b1c2;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .games-container {
                flex-direction: column;
                align-items: center;
            }
            
            .game-card {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
	<!-- Include common header -->
    <div id="header-container"></div>
	
    <div class="game-container">
        <header>
            <h1>Arcade Games</h1>
            <p class="subtitle">Relive the nostalgia with these timeless classics</p>
        </header>
                   
		<!-- Tetris Game -->
		<div class="game-card">
			<div class="game-title">
				<div class="game-icon">ðŸ§©</div>
				<h2>Tetris</h2>
			</div>
			
			<div class="game-area">
				<canvas id="tetris-game" class="game-board" width="300" height="600"></canvas>
				
				<div class="game-info">
					<div class="score">Score: <span id="tetris-score">0</span></div>
					<div class="level">Level: <span id="tetris-level">1</span></div>
					<div class="lines">Lines: <span id="tetris-lines">0</span></div>
				</div>
				
				<div class="controls">
					<h3>Controls</h3>
					<p><strong>Left/Right Arrow:</strong> Move piece</p>
					<p><strong>Up Arrow:</strong> Rotate piece</p>
					<p><strong>Down Arrow:</strong> Soft drop</p>
					<p><strong>Space:</strong> Hard drop</p>
				</div>
				
				<div class="game-buttons">
					<button id="tetris-start">Start Game</button>
					<button id="tetris-pause">Pause</button>
					<button id="tetris-reset">Reset</button>
				</div>
			</div>
		</div>
        
        <div class="instructions">
            <h2>How to Play</h2>
            <p><strong>Tetris:</strong> Arrange the falling tetromino blocks to create complete horizontal lines. When a line is completed, it disappears and you earn points. The game speeds up as you level up. Try to achieve the highest score possible!</p>
        </div>
        
        <footer>
            <p>Classic Arcade Games Collection</p>
        </footer>
    </div>

    <script>
	// Load common header
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
            });
			
        // Tetris Game Implementation
        const tetrisCanvas = document.getElementById('tetris-game');
        const tetrisCtx = tetrisCanvas.getContext('2d');
        const tetrisScoreElement = document.getElementById('tetris-score');
        const tetrisLevelElement = document.getElementById('tetris-level');
        const tetrisLinesElement = document.getElementById('tetris-lines');
        const tetrisStartBtn = document.getElementById('tetris-start');
        const tetrisPauseBtn = document.getElementById('tetris-pause');
        const tetrisResetBtn = document.getElementById('tetris-reset');

        const ROWS = 20;
        const COLS = 10;
        const BLOCK_SIZE = 30;
        const COLORS = [
            '#000000',  // Empty
            '#FF0D72',  // I
            '#0DC2FF',  // J
            '#0DFF72',  // L
            '#F538FF',  // O
            '#FF8E0D',  // S
            '#FFE138',  // T
            '#3877FF'   // Z
        ];

        // Tetromino shapes
        const SHAPES = [
            [],
            [
                [0, 0, 0, 0],
                [1, 1, 1, 1],
                [0, 0, 0, 0],
                [0, 0, 0, 0]
            ],
            [
                [2, 0, 0],
                [2, 2, 2],
                [0, 0, 0]
            ],
            [
                [0, 0, 3],
                [3, 3, 3],
                [0, 0, 0]
            ],
            [
                [4, 4],
                [4, 4]
            ],
            [
                [0, 5, 5],
                [5, 5, 0],
                [0, 0, 0]
            ],
            [
                [0, 6, 0],
                [6, 6, 6],
                [0, 0, 0]
            ],
            [
                [7, 7, 0],
                [0, 7, 7],
                [0, 0, 0]
            ]
        ];

        let board = [];
        let currentPiece = null;
        let tetrisScore = 0;
        let tetrisLevel = 1;
        let tetrisLines = 0;
        let tetrisGameRunning = false;
        let tetrisGameLoop;
        let dropStart = Date.now();

        // Initialize board
        function createBoard() {
            board = Array.from({length: ROWS}, () => Array(COLS).fill(0));
        }

        // Create a new random piece
        function createPiece() {
            const pieceId = Math.floor(Math.random() * 7) + 1;
            const piece = {
                shape: SHAPES[pieceId],
                color: COLORS[pieceId],
                x: Math.floor(COLS / 2) - Math.floor(SHAPES[pieceId][0].length / 2),
                y: 0
            };
            return piece;
        }

        // Draw the board and current piece
        function drawTetrisGame() {
            // Clear canvas
            tetrisCtx.fillStyle = '#0f1419';
            tetrisCtx.fillRect(0, 0, tetrisCanvas.width, tetrisCanvas.height);
            
            // Draw board
            for (let r = 0; r < ROWS; r++) {
                for (let c = 0; c < COLS; c++) {
                    if (board[r][c]) {
                        drawBlock(c, r, board[r][c]);
                    }
                }
            }
            
            // Draw current piece
            if (currentPiece) {
                for (let r = 0; r < currentPiece.shape.length; r++) {
                    for (let c = 0; c < currentPiece.shape[r].length; c++) {
                        if (currentPiece.shape[r][c]) {
                            drawBlock(currentPiece.x + c, currentPiece.y + r, currentPiece.shape[r][c]);
                        }
                    }
                }
            }
        }

        // Draw a single block
        function drawBlock(x, y, colorId) {
            tetrisCtx.fillStyle = COLORS[colorId];
            tetrisCtx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);
            
            tetrisCtx.strokeStyle = '#0f1419';
            tetrisCtx.lineWidth = 2;
            tetrisCtx.strokeRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);
        }

        // Move piece down
        function drop() {
            if (!currentPiece) return;
            
            currentPiece.y++;
            if (collision()) {
                currentPiece.y--;
                lockPiece();
                removeLines();
                currentPiece = createPiece();
                if (collision()) {
                    gameOverTetris();
                }
            }
            dropStart = Date.now();
        }

        // Check for collision
        function collision() {
            if (!currentPiece) return false;
            
            for (let r = 0; r < currentPiece.shape.length; r++) {
                for (let c = 0; c < currentPiece.shape[r].length; c++) {
                    if (currentPiece.shape[r][c] !== 0) {
                        let newX = currentPiece.x + c;
                        let newY = currentPiece.y + r;
                        
                        if (
                            newX < 0 || 
                            newX >= COLS || 
                            newY >= ROWS ||
                            (newY >= 0 && board[newY][newX] !== 0)
                        ) {
                            return true;
                        }
                    }
                }
            }
            return false;
        }

        // Lock piece in place
        function lockPiece() {
            if (!currentPiece) return;
            
            for (let r = 0; r < currentPiece.shape.length; r++) {
                for (let c = 0; c < currentPiece.shape[r].length; c++) {
                    if (currentPiece.shape[r][c] !== 0) {
                        let boardY = currentPiece.y + r;
                        if (boardY >= 0) { // Only add to board if it's within visible area
                            board[boardY][currentPiece.x + c] = currentPiece.shape[r][c];
                        }
                    }
                }
            }
        }

        // Remove completed lines
        function removeLines() {
            let linesCleared = 0;
            
            for (let r = ROWS - 1; r >= 0; r--) {
                if (board[r].every(cell => cell !== 0)) {
                    // Remove the line
                    board.splice(r, 1);
                    // Add a new empty line at the top
                    board.unshift(Array(COLS).fill(0));
                    linesCleared++;
                    r++; // Check the same row again after removal
                }
            }
            
            if (linesCleared > 0) {
                // Update score
                const linePoints = [40, 100, 300, 1200]; // Points for 1, 2, 3, 4 lines
                tetrisScore += linePoints[linesCleared - 1] * tetrisLevel;
                tetrisLines += linesCleared;
                
                // Update level every 10 lines
                tetrisLevel = Math.floor(tetrisLines / 10) + 1;
                
                tetrisScoreElement.textContent = tetrisScore;
                tetrisLevelElement.textContent = tetrisLevel;
                tetrisLinesElement.textContent = tetrisLines;
            }
        }

        // Move piece horizontally
        function move(dir) {
            if (!currentPiece) return;
            
            currentPiece.x += dir;
            if (collision()) {
                currentPiece.x -= dir;
            }
        }

        // Rotate piece
        function rotate() {
            if (!currentPiece) return;
            
            // Transpose matrix (rotate 90 degrees)
            const rotated = [];
            for (let i = 0; i < currentPiece.shape[0].length; i++) {
                rotated[i] = [];
                for (let j = 0; j < currentPiece.shape.length; j++) {
                    rotated[i][j] = currentPiece.shape[currentPiece.shape.length - 1 - j][i];
                }
            }
            
            const originalShape = currentPiece.shape;
            currentPiece.shape = rotated;
            
            // If rotation causes collision, revert
            if (collision()) {
                currentPiece.shape = originalShape;
            }
        }

        // Hard drop
        function hardDrop() {
            if (!currentPiece) return;
            
            while (!collision()) {
                currentPiece.y++;
            }
            currentPiece.y--;
            lockPiece();
            removeLines();
            currentPiece = createPiece();
            if (collision()) {
                gameOverTetris();
            }
            dropStart = Date.now();
        }

        // Game over for Tetris
        function gameOverTetris() {
            tetrisGameRunning = false;
            clearInterval(tetrisGameLoop);
            
            tetrisCtx.fillStyle = 'rgba(0, 0, 0, 0.75)';
            tetrisCtx.fillRect(0, 0, tetrisCanvas.width, tetrisCanvas.height);
            
            tetrisCtx.fillStyle = '#fff';
            tetrisCtx.font = '30px Arial';
            tetrisCtx.textAlign = 'center';
            tetrisCtx.fillText('Game Over!', tetrisCanvas.width / 2, tetrisCanvas.height / 2 - 20);
            
            tetrisCtx.font = '20px Arial';
            tetrisCtx.fillText(`Final Score: ${tetrisScore}`, tetrisCanvas.width / 2, tetrisCanvas.height / 2 + 20);
        }

        // Start Tetris game
        function startTetrisGame() {
            if (tetrisGameRunning) return;
            
            createBoard();
            currentPiece = createPiece();
            tetrisScore = 0;
            tetrisLevel = 1;
            tetrisLines = 0;
            
            tetrisScoreElement.textContent = tetrisScore;
            tetrisLevelElement.textContent = tetrisLevel;
            tetrisLinesElement.textContent = tetrisLines;
            
            tetrisGameRunning = true;
            dropStart = Date.now();
            
            tetrisGameLoop = setInterval(updateTetrisGame, 1000 / 60); // 60 FPS
        }

        // Update Tetris game
        function updateTetrisGame() {
            if (!tetrisGameRunning) return;
            
            const now = Date.now();
            const delta = now - dropStart;
            
            if (delta > 1000 - (tetrisLevel - 1) * 100) {
                drop();
            }
            
            drawTetrisGame();
        }

        // Pause Tetris game
        function pauseTetrisGame() {
            if (!tetrisGameRunning) return;
            
            tetrisGameRunning = false;
            
            tetrisCtx.fillStyle = 'rgba(0, 0, 0, 0.75)';
            tetrisCtx.fillRect(0, 0, tetrisCanvas.width, tetrisCanvas.height);
            
            tetrisCtx.fillStyle = '#fff';
            tetrisCtx.font = '30px Arial';
            tetrisCtx.textAlign = 'center';
            tetrisCtx.fillText('Game Paused', tetrisCanvas.width / 2, tetrisCanvas.height / 2);
        }

        // Reset Tetris game
        function resetTetrisGame() {
            clearInterval(tetrisGameLoop);
            tetrisGameRunning = false;
            
            createBoard();
            currentPiece = null;
            tetrisScore = 0;
            tetrisLevel = 1;
            tetrisLines = 0;
            
            tetrisScoreElement.textContent = tetrisScore;
            tetrisLevelElement.textContent = tetrisLevel;
            tetrisLinesElement.textContent = tetrisLines;
            
            drawTetrisGame();
        }

        // Tetris keyboard controls
        document.addEventListener('keydown', (e) => {
            if (!tetrisGameRunning) return;
            
            switch(e.key) {
                case 'ArrowLeft':
                    move(-1);
                    break;
                case 'ArrowRight':
                    move(1);
                    break;
                case 'ArrowDown':
                    drop();
                    break;
                case 'ArrowUp':
                    rotate();
                    break;
                case ' ':
                    hardDrop();
                    break;
            }
        });

        // Tetris button event listeners
        tetrisStartBtn.addEventListener('click', startTetrisGame);
        tetrisPauseBtn.addEventListener('click', pauseTetrisGame);
        tetrisResetBtn.addEventListener('click', resetTetrisGame);

        // Initialize Tetris game
        createBoard();
        drawTetrisGame();
    </script>
</body>
</html>