<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn phrases in multiple languages with pronunciation">
    <meta name="theme-color" content="#6366f1">
    <title>Language Phrase Trainer</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .card {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .language-section {
            background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
            padding: 25px;
            border-bottom: 1px solid #e5e7eb;
        }

        .language-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
            font-size: 0.9rem;
        }

        select {
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        select:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .mode-toggle {
            display: flex;
            gap: 10px;
            padding: 20px 25px;
            background: #f9fafb;
            justify-content: center;
            border-bottom: 1px solid #e5e7eb;
        }

        .mode-btn {
            padding: 12px 24px;
            border: 2px solid #6366f1;
            background: white;
            color: #6366f1;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .mode-btn:hover {
            background: #f5f3ff;
        }

        .mode-btn.active {
            background: #6366f1;
            color: white;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }

        .progress-section {
            padding: 20px 25px 10px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6366f1 0%, #8b5cf6 100%);
            transition: width 0.4s ease;
        }

        .progress-text {
            text-align: center;
            color: #6b7280;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .phrase-display {
            padding: 30px 25px;
        }

        .phrase-card {
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .source-phrase {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
        }

        .target-phrase {
            background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
            color: white;
        }

        .target-phrase.hidden {
            opacity: 0.5;
        }

        .phrase-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .phrase-lang {
            font-size: 0.85rem;
            opacity: 0.9;
            font-weight: 600;
        }

        .speak-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .speak-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        .speak-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .phrase-text {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .phrase-phonetic {
            font-size: 1.2rem;
            font-family: 'Courier New', monospace;
            opacity: 0.9;
        }

        .hidden-text {
            font-size: 1.5rem;
            opacity: 0.7;
        }

        .category-badge {
            text-align: center;
            margin-top: 15px;
        }

        .badge {
            display: inline-block;
            background: #e5e7eb;
            color: #374151;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .controls {
            display: flex;
            gap: 12px;
            padding: 20px 25px;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-secondary {
            background: white;
            color: #374151;
            border: 2px solid #e5e7eb;
        }

        .btn-secondary:hover {
            background: #f9fafb;
            border-color: #d1d5db;
        }

        .btn-primary {
            background: #6366f1;
            color: white;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            background: #4f46e5;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);
        }

        .btn-success {
            background: #8b5cf6;
            color: white;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }

        .btn-success:hover {
            background: #7c3aed;
            transform: translateY(-2px);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 20px 25px;
            background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
        }

        .stat-box {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #6b7280;
            margin-top: 5px;
            font-weight: 600;
        }

        .tips {
            margin-top: 25px;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            color: white;
        }

        .tips h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .tips ul {
            list-style: none;
            padding: 0;
        }

        .tips li {
            margin-bottom: 10px;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .tips kbd {
            background: rgba(255,255,255,0.2);
            padding: 3px 8px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9rem;
        }

        @media (max-width: 640px) {
            h1 {
                font-size: 2rem;
            }
            
            .language-grid {
                grid-template-columns: 1fr;
            }

            .phrase-text {
                font-size: 1.5rem;
            }

            .phrase-phonetic {
                font-size: 1rem;
            }

            .controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        .icon {
            width: 20px;
            height: 20px;
            display: inline-block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>
                📚 Language Phrase Trainer
            </h1>
            <p class="subtitle">Master phrases with perfect pronunciation</p>
        </header>

        <div class="card">
            <div class="language-section">
                <div class="language-grid">
                    <div class="input-group">
                        <label for="sourceLang">📖 Learn From</label>
                        <select id="sourceLang" onchange="app.updateLanguages()">
                            <option value="en">🇬🇧 English</option>
                            <option value="es">🇪🇸 Spanish</option>
                            <option value="fr">🇫🇷 French</option>
                            <option value="de">🇩🇪 German</option>
                            <option value="hi">🇮🇳 Hindi</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="targetLang">🎯 Learn</label>
                        <select id="targetLang" onchange="app.updateLanguages()">
                            <option value="es">🇪🇸 Spanish</option>
                            <option value="en">🇬🇧 English</option>
                            <option value="fr">🇫🇷 French</option>
                            <option value="de">🇩🇪 German</option>
                            <option value="hi">🇮🇳 Hindi</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="category">📚 Category</label>
                    <select id="category" onchange="app.updateCategory()">
                        <option value="all">All Categories</option>
                        <option value="greetings">Greetings</option>
                        <option value="common">Common Phrases</option>
                        <option value="questions">Questions</option>
                        <option value="travel">Travel</option>
                        <option value="food">Food</option>
                        <option value="shopping">Shopping</option>
                        <option value="emergency">Emergency</option>
                    </select>
                </div>
            </div>

            <div class="mode-toggle">
                <button class="mode-btn active" id="learnBtn" onclick="app.setMode('learn')">
                    📖 Learn Mode
                </button>
                <button class="mode-btn" id="practiceBtn" onclick="app.setMode('practice')">
                    🏆 Practice Mode
                </button>
            </div>

            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <p class="progress-text" id="progressText">0 / 0 phrases</p>
            </div>

            <div class="phrase-display">
                <div class="phrase-card source-phrase fade-in" id="sourceCard">
                    <div class="phrase-header">
                        <div>
                            <div class="phrase-lang" id="sourceLangLabel">🇬🇧 English</div>
                        </div>
                        <button class="speak-btn" onclick="app.speak('source')" aria-label="Speak source phrase">
                            🔊
                        </button>
                    </div>
                    <div class="phrase-text" id="sourceText">Select languages to start</div>
                    <div class="phrase-phonetic" id="sourcePhonetic"></div>
                </div>

                <div class="phrase-card target-phrase fade-in" id="targetCard">
                    <div class="phrase-header">
                        <div>
                            <div class="phrase-lang" id="targetLangLabel">🇪🇸 Spanish</div>
                        </div>
                        <button class="speak-btn" id="targetSpeakBtn" onclick="app.speak('target')" aria-label="Speak target phrase">
                            🔊
                        </button>
                    </div>
                    <div class="phrase-text" id="targetText">-</div>
                    <div class="phrase-phonetic" id="targetPhonetic"></div>
                </div>

                <div class="category-badge">
                    <span class="badge" id="categoryBadge">-</span>
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-secondary" onclick="app.prevPhrase()">
                    ← Previous
                </button>
                <button class="btn btn-success" onclick="app.toggleTranslation()">
                    <span id="toggleText">👁️ Hide</span>
                </button>
                <button class="btn btn-primary" onclick="app.nextPhrase()">
                    Next →
                </button>
            </div>

            <div class="stats">
                <div class="stat-box">
                    <div class="stat-number" id="currentStat">0</div>
                    <div class="stat-label">Current</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="totalStat">0</div>
                    <div class="stat-label">Total</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="practicedStat">0</div>
                    <div class="stat-label">Practiced</div>
                </div>
            </div>
        </div>

        <div class="tips">
            <h3>💡 Quick Tips</h3>
            <ul>
                <li>• Use <kbd>←</kbd> and <kbd>→</kbd> arrow keys to navigate phrases</li>
                <li>• Press <kbd>Space</kbd> to show/hide the translation</li>
                <li>• Click 🔊 to hear native pronunciation</li>
                <li>• Practice mode hides translations for better learning</li>
            </ul>
        </div>
    </div>

    <script>
		/*
        const phrasesData = {
            phrases: [
                {
                    id: 1, category: "greetings",
                    en: { text: "Hello", phonetic: "heh-LOH" },
                    es: { text: "Hola", phonetic: "OH-lah" },
                    fr: { text: "Bonjour", phonetic: "bon-ZHOOR" },
                    de: { text: "Hallo", phonetic: "HAH-loh" },
                    hi: { text: "नमस्ते", phonetic: "nah-mas-TAY" }
                },
                {
                    id: 2, category: "greetings",
                    en: { text: "Good morning", phonetic: "good MOR-ning" },
                    es: { text: "Buenos días", phonetic: "BWAY-nos DEE-as" },
                    fr: { text: "Bon matin", phonetic: "bon mah-TAN" },
                    de: { text: "Guten Morgen", phonetic: "GOO-ten MOR-gen" },
                    hi: { text: "सुप्रभात", phonetic: "su-pra-BHAT" }
                },
                {
                    id: 3, category: "greetings",
                    en: { text: "Good evening", phonetic: "good EEV-ning" },
                    es: { text: "Buenas noches", phonetic: "BWAY-nas NO-ches" },
                    fr: { text: "Bonsoir", phonetic: "bon-SWAHR" },
                    de: { text: "Guten Abend", phonetic: "GOO-ten AH-bent" },
                    hi: { text: "शुभ संध्या", phonetic: "shubh SAND-hya" }
                },
                {
                    id: 4, category: "greetings",
                    en: { text: "How are you?", phonetic: "how ar yoo" },
                    es: { text: "¿Cómo estás?", phonetic: "KOH-moh es-TAS" },
                    fr: { text: "Comment allez-vous?", phonetic: "koh-mon tah-lay VOO" },
                    de: { text: "Wie geht es dir?", phonetic: "vee gayt es deer" },
                    hi: { text: "आप कैसे हैं?", phonetic: "aap KAI-se hain" }
                },
                {
                    id: 5, category: "greetings",
                    en: { text: "Nice to meet you", phonetic: "nice to meet yoo" },
                    es: { text: "Encantado de conocerte", phonetic: "en-kan-TAH-doh day ko-no-SER-tay" },
                    fr: { text: "Enchanté", phonetic: "on-shon-TAY" },
                    de: { text: "Schön dich kennenzulernen", phonetic: "shern dik KEN-nen-tsoo-ler-nen" },
                    hi: { text: "आपसे मिलकर खुशी हुई", phonetic: "aap-se mil-kar KHU-shi hu-ee" }
                },
                {
                    id: 6, category: "common",
                    en: { text: "Thank you", phonetic: "thank yoo" },
                    es: { text: "Gracias", phonetic: "GRAH-see-as" },
                    fr: { text: "Merci", phonetic: "mer-SEE" },
                    de: { text: "Danke", phonetic: "DAHN-kuh" },
                    hi: { text: "धन्यवाद", phonetic: "dhan-ya-VAAD" }
                },
                {
                    id: 7, category: "common",
                    en: { text: "Please", phonetic: "pleez" },
                    es: { text: "Por favor", phonetic: "por fah-VOR" },
                    fr: { text: "S'il vous plaît", phonetic: "seel voo PLAY" },
                    de: { text: "Bitte", phonetic: "BIT-tuh" },
                    hi: { text: "कृपया", phonetic: "kri-pa-YA" }
                },
                {
                    id: 8, category: "common",
                    en: { text: "Excuse me", phonetic: "ex-KYOOZ me" },
                    es: { text: "Disculpe", phonetic: "dis-KOOL-pay" },
                    fr: { text: "Excusez-moi", phonetic: "ex-kew-zay MWAH" },
                    de: { text: "Entschuldigung", phonetic: "ent-SHOOL-di-goong" },
                    hi: { text: "माफ़ करें", phonetic: "maaf ka-REN" }
                },
                {
                    id: 9, category: "common",
                    en: { text: "I'm sorry", phonetic: "I'm SOR-ree" },
                    es: { text: "Lo siento", phonetic: "loh see-EN-toh" },
                    fr: { text: "Je suis désolé", phonetic: "zhuh swee day-zo-LAY" },
                    de: { text: "Es tut mir leid", phonetic: "es toot meer LITE" },
                    hi: { text: "मुझे खेद है", phonetic: "mu-jhe KHED hai" }
                },
                {
                    id: 10, category: "common",
                    en: { text: "Yes", phonetic: "yes" },
                    es: { text: "Sí", phonetic: "see" },
                    fr: { text: "Oui", phonetic: "wee" },
                    de: { text: "Ja", phonetic: "yah" },
                    hi: { text: "हाँ", phonetic: "haan" }
                },
                {
                    id: 11, category: "common",
                    en: { text: "No", phonetic: "noh" },
                    es: { text: "No", phonetic: "noh" },
                    fr: { text: "Non", phonetic: "non" },
                    de: { text: "Nein", phonetic: "nine" },
                    hi: { text: "नहीं", phonetic: "na-HIN" }
                },
                {
                    id: 12, category: "questions",
                    en: { text: "What is your name?", phonetic: "what iz yor name" },
                    es: { text: "¿Cómo te llamas?", phonetic: "KOH-moh tay YAH-mas" },
                    fr: { text: "Comment vous appelez-vous?", phonetic: "koh-mon voo zah-play VOO" },
                    de: { text: "Wie heißt du?", phonetic: "vee HICE-t doo" },
                    hi: { text: "आपका नाम क्या है?", phonetic: "aap-ka NAAM kya hai" }
                },
                {
                    id: 13, category: "questions",
                    en: { text: "Where are you from?", phonetic: "where ar yoo from" },
                    es: { text: "¿De dónde eres?", phonetic: "day DON-day EH-res" },
                    fr: { text: "D'où venez-vous?", phonetic: "doo veh-nay VOO" },
                    de: { text: "Woher kommst du?", phonetic: "voh-HAIR komst doo" },
                    hi: { text: "आप कहाँ से हैं?", phonetic: "aap ka-HAN se hain" }
                },
                {
                    id: 14, category: "questions",
                    en: { text: "How much does it cost?", phonetic: "how much duz it cost" },
                    es: { text: "¿Cuánto cuesta?", phonetic: "KWAN-toh KWES-tah" },
                    fr: { text: "Combien ça coûte?", phonetic: "kom-bee-an sa KOOT" },
                    de: { text: "Wie viel kostet das?", phonetic: "vee feel KOS-tet das" },
                    hi: { text: "इसकी कीमत कितनी है?", phonetic: "is-kee KEE-mat kit-nee hai" }
                },
                {
                    id: 15, category: "questions",
                    en: { text: "Where is the bathroom?", phonetic: "where iz the BATH-room" },
                    es: { text: "¿Dónde está el baño?", phonetic: "DON-day es-TAH el BAH-nyo" },
                    fr: { text: "Où sont les toilettes?", phonetic: "oo son lay twa-LET" },
                    de: { text: "Wo ist die Toilette?", phonetic: "voh ist dee toy-LET-tuh" },
                    hi: { text: "बाथरूम कहाँ है?", phonetic: "BATH-room ka-HAN hai" }
                },
                {
                    id: 16, category: "travel",
                    en: { text: "I need help", phonetic: "I need help" },
                    es: { text: "Necesito ayuda", phonetic: "neh-seh-SEE-toh ah-YOO-dah" },
                    fr: { text: "J'ai besoin d'aide", phonetic: "zhay beh-ZWAN DEED" },
                    de: { text: "Ich brauche Hilfe", phonetic: "ik BROW-khuh HIL-fuh" },
                    hi: { text: "मुझे मदद चाहिए", phonetic: "mu-jhe ma-DAD cha-hi-ye" }
                },
                {
                    id: 17, category: "travel",
                    en: { text: "Where is the station?", phonetic: "where iz the STAY-shun" },
                    es: { text: "¿Dónde está la estación?", phonetic: "DON-day es-TAH la es-tah-see-ON" },
                    fr: { text: "Où est la gare?", phonetic: "oo ay la gar" },
                    de: { text: "Wo ist der Bahnhof?", phonetic: "voh ist dair BAHN-hof" },
                    hi: { text: "स्टेशन कहाँ है?", phonetic: "STATION ka-HAN hai" }
                },
                {
                    id: 18, category: "travel",
                    en: { text: "I'm lost", phonetic: "I'm lost" },
                    es: { text: "Estoy perdido", phonetic: "es-TOY per-DEE-doh" },
                    fr: { text: "Je suis perdu", phonetic: "zhuh swee per-DU" },
                    de: { text: "Ich habe mich verlaufen", phonetic: "ik HAH-buh mik fer-LOW-fen" },
                    hi: { text: "मैं खो गया हूँ", phonetic: "main KHO ga-ya hoon" }
                },
                {
                    id: 19, category: "food",
                    en: { text: "I'm hungry", phonetic: "I'm HUN-gree" },
                    es: { text: "Tengo hambre", phonetic: "TEN-goh AHM-bray" },
                    fr: { text: "J'ai faim", phonetic: "zhay fam" },
                    de: { text: "Ich habe Hunger", phonetic: "ik HAH-buh HUNG-er" },
                    hi: { text: "मुझे भूख लगी है", phonetic: "mu-jhe BHOOKH la-gee hai" }
                },
                {
                    id: 20, category: "food",
                    en: { text: "Water, please", phonetic: "WAW-ter pleez" },
                    es: { text: "Agua, por favor", phonetic: "AH-gwah por fah-VOR" },
                    fr: { text: "De l'eau, s'il vous plaît", phonetic: "duh LOH seel voo PLAY" },
                    de: { text: "Wasser, bitte", phonetic: "VAS-ser BIT-tuh" },
                    hi: { text: "पानी, कृपया", phonetic: "PAA-nee kri-pa-YA" }
                },
                {
                    id: 21, category: "shopping",
                    en: { text: "How much?", phonetic: "how much" },
                    es: { text: "¿Cuánto?", phonetic: "KWAN-toh" },
                    fr: { text: "Combien?", phonetic: "kom-bee-AN" },
                    de: { text: "Wie viel?", phonetic: "vee feel" },
                    hi: { text: "कितना?", phonetic: "kit-NA" }
                },
                {
                    id: 22, category: "shopping",
                    en: { text: "Too expensive", phonetic: "too ex-PEN-siv" },
                    es: { text: "Muy caro", phonetic: "mwee KAH-roh" },
                    fr: { text: "Trop cher", phonetic: "troh SHAIR" },
                    de: { text: "Zu teuer", phonetic: "tsoo TOY-er" },
                    hi: { text: "बहुत महंगा", phonetic: "ba-HUT ma-HAN-ga" }
                },
                {
                    id: 23, category: "emergency",
                    en: { text: "Help!", phonetic: "help" },
                    es: { text: "¡Ayuda!", phonetic: "ah-YOO-dah" },
                    fr: { text: "Au secours!", phonetic: "oh suh-KOOR" },
                    de: { text: "Hilfe!", phonetic: "HIL-fuh" },
                    hi: { text: "मदद!", phonetic: "ma-DAD" }
                },
                {
                    id: 24, category: "emergency",
                    en: { text: "Call the police", phonetic: "call the po-LEES" },
                    es: { text: "Llame a la policía", phonetic: "YAH-may ah la po-lee-SEE-ah" },
                    fr: { text: "Appelez la police", phonetic: "ah-play la po-LEES" },
                    de: { text: "Rufen Sie die Polizei", phonetic: "ROO-fen zee dee po-li-TSAI" },
                    hi: { text: "पुलिस को बुलाओ", phonetic: "pu-LIS ko bu-LAO" }
                }
            ]
        };
		*/
		
		let phrasesData = {};
		

        const langLabels = {
            en: { flag: '🇬🇧', name: 'English', code: 'en-US' },
            es: { flag: '🇪🇸', name: 'Spanish', code: 'es-ES' },
            fr: { flag: '🇫🇷', name: 'French', code: 'fr-FR' },
            de: { flag: '🇩🇪', name: 'German', code: 'de-DE' },
            hi: { flag: '🇮🇳', name: 'Hindi', code: 'hi-IN' }
        };

        const app = {
            currentIndex: 0,
            sourceLang: 'en',
            targetLang: 'es',
            mode: 'learn',
            showTranslation: true,
            practiced: 0,
            category: 'all',
            filteredPhrases: [],

            init() {
                this.updateCategory();
                this.setupKeyboardShortcuts();
                this.registerServiceWorker();
            },

            updateCategory() {
                this.category = document.getElementById('category').value;
                this.filteredPhrases = this.category === 'all' 
                    ? phrasesData.phrases 
                    : phrasesData.phrases.filter(p => p.category === this.category);
                this.currentIndex = 0;
                this.updateDisplay();
            },

            updateLanguages() {
                this.sourceLang = document.getElementById('sourceLang').value;
                this.targetLang = document.getElementById('targetLang').value;
                this.updateDisplay();
            },

            updateDisplay() {
                if (this.filteredPhrases.length === 0) return;

                const phrase = this.filteredPhrases[this.currentIndex];
                const source = phrase[this.sourceLang];
                const target = phrase[this.targetLang];

                document.getElementById('sourceText').textContent = source.text;
                document.getElementById('sourcePhonetic').textContent = `[${source.phonetic}]`;
                document.getElementById('sourceLangLabel').textContent = 
                    `${langLabels[this.sourceLang].flag} ${langLabels[this.sourceLang].name}`;

                const shouldShow = this.showTranslation || this.mode === 'learn';
                const targetCard = document.getElementById('targetCard');
                const targetSpeakBtn = document.getElementById('targetSpeakBtn');

                if (shouldShow) {
                    document.getElementById('targetText').textContent = target.text;
                    document.getElementById('targetPhonetic').textContent = `[${target.phonetic}]`;
                    targetCard.classList.remove('hidden');
                    targetSpeakBtn.disabled = false;
                } else {
                    document.getElementById('targetText').innerHTML = '<span class="hidden-text">??? (Tap to reveal)</span>';
                    document.getElementById('targetPhonetic').textContent = '';
                    targetCard.classList.add('hidden');
                    targetSpeakBtn.disabled = true;
                }

                document.getElementById('targetLangLabel').textContent = 
                    `${langLabels[this.targetLang].flag} ${langLabels[this.targetLang].name}`;

                document.getElementById('categoryBadge').textContent = 
                    phrase.category.charAt(0).toUpperCase() + phrase.category.slice(1);

                const progress = ((this.currentIndex + 1) / this.filteredPhrases.length) * 100;
                document.getElementById('progressFill').style.width = progress + '%';
                document.getElementById('progressText').textContent = 
                    `${this.currentIndex + 1} / ${this.filteredPhrases.length} phrases`;

                document.getElementById('currentStat').textContent = this.currentIndex + 1;
                document.getElementById('totalStat').textContent = this.filteredPhrases.length;
                document.getElementById('practicedStat').textContent = this.practiced;

                document.getElementById('toggleText').textContent = 
                    this.showTranslation ? '🙈 Hide' : '👁️ Reveal';
            },

            speak(type) {
                if (!('speechSynthesis' in window)) {
                    alert('Speech synthesis not supported in your browser');
                    return;
                }

                const phrase = this.filteredPhrases[this.currentIndex];
                const lang = type === 'source' ? this.sourceLang : this.targetLang;
                const text = phrase[lang].text;
                const langCode = langLabels[lang].code;

                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = langCode;
                utterance.rate = 0.8;
                utterance.pitch = 1.0;
                window.speechSynthesis.speak(utterance);
            },

            nextPhrase() {
                if (this.currentIndex < this.filteredPhrases.length - 1) {
                    this.currentIndex++;
                    this.practiced++;
                } else {
                    this.currentIndex = 0;
                }
                if (this.mode === 'practice') {
                    this.showTranslation = false;
                }
                this.updateDisplay();
            },

            prevPhrase() {
                if (this.currentIndex > 0) {
                    this.currentIndex--;
                } else {
                    this.currentIndex = this.filteredPhrases.length - 1;
                }
                if (this.mode === 'practice') {
                    this.showTranslation = false;
                }
                this.updateDisplay();
            },

            toggleTranslation() {
                this.showTranslation = !this.showTranslation;
                this.updateDisplay();
            },

            setMode(mode) {
                this.mode = mode;
                this.showTranslation = mode === 'learn';
                
                document.getElementById('learnBtn').classList.remove('active');
                document.getElementById('practiceBtn').classList.remove('active');
                document.getElementById(mode === 'learn' ? 'learnBtn' : 'practiceBtn').classList.add('active');
                
                this.updateDisplay();
            },

            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowRight') {
                        e.preventDefault();
                        this.nextPhrase();
                    } else if (e.key === 'ArrowLeft') {
                        e.preventDefault();
                        this.prevPhrase();
                    } else if (e.key === ' ') {
                        e.preventDefault();
                        this.toggleTranslation();
                    }
                });
            },

            registerServiceWorker() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('sw.js')
                        .then(() => console.log('Service Worker registered'))
                        .catch(err => console.log('Service Worker registration failed:', err));
                }
            }
        };

        window.addEventListener('load', () => {
           fetch('phrases.json')
		  .then(response => response.json())
		  .then(data => {
			phrasesData = data;
			app.init();
		  });
        });
    </script>
</body>
</html>